<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

 <title>Jackson Bates</title>
 <link href="https://blog.jacksonbates.com/atom.xml" rel="self"/>
 <link href="https://blog.jacksonbates.com/"/>
 <updated>2021-06-05T23:20:48+10:00</updated>
 <id>https://blog.jacksonbates.com</id>
 <author>
   <name></name>
   <email></email>
 </author>

 
 <entry>
   <title>Hacking an Optus Sagemcom F@ST3864V2 router to change DNS settings</title>
   <link href="https://blog.jacksonbates.com/optus-router-hack-dns"/>
   <updated>2021-06-05T21:30:00+10:00</updated>
   <id>https://blog.jacksonbates.com/hacking-optus-router</id>
   <content type="html">&lt;p&gt;I’ve recently installed a Pi-Hole on my home network. In order to set this up you need to change the DNS settings for your router to try to route everything through the Pi-Hole.&lt;/p&gt;

&lt;p&gt;On most routers, this is not a hard setting to change - but I’m using a router provided by Optus from many years ago, and they have it arbitrarily locked down to stop people messing with it.&lt;/p&gt;

&lt;p&gt;Specifically, the router in question for me is the Sagemcom F@ST3864V2.&lt;/p&gt;

&lt;p&gt;I’m publishing the following information on the understanding that if you attempt to do anything I explain, you are an adult and accept that should you brick your router, you’ll need to go buy a new one.&lt;/p&gt;

&lt;p&gt;Do not attempt this on hardware you do not own and cannot afford to replace.&lt;/p&gt;

&lt;p&gt;But assuming you are a grown-up: here’s what I did.&lt;/p&gt;

&lt;h2 id=&quot;goal&quot;&gt;Goal&lt;/h2&gt;

&lt;p&gt;What we are trying to do is access the advanced setup options that can only be accessed by the Admin user.&lt;/p&gt;

&lt;h2 id=&quot;cracking-admin-and-changing-dns&quot;&gt;Cracking admin and changing DNS&lt;/h2&gt;

&lt;p&gt;Optus does not want you to do this. They’ll tell you this is not possible. That means if you break it, they will likely not be too sympathetic.&lt;/p&gt;

&lt;p&gt;The admin user is hidden - it’s not obvious that it exists from the user drop down you see in various places.&lt;/p&gt;

&lt;p&gt;Luckily, the router has a conf file that contains the admin user information and a lazily obfuscated password!&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Visit &lt;a href=&quot;http://192.168.0.1/dumpcfgdynamic.conf&quot;&gt;http://192.168.0.1/dumpcfgdynamic.conf&lt;/a&gt; to prompt the download of the conf file.&lt;/p&gt;

    &lt;p&gt;Note, 192.168.0.1 is my router admin address - yours may vary slightly, but if you’ve come this far you likely already know yours.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Once downloaded, change the file extension to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.html&lt;/code&gt; instead of conf and open it up in your favourite browser (Firefox for me).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Look for the line containing admin password, yours will likely be different: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;AdminPassword&amp;gt;WW1Ob1dXbzBhMmM9AA==&amp;lt;/AdminPassword&amp;gt;&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Copy the password string and convert it from base64&lt;/p&gt;

    &lt;p&gt;Bash can do this: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;echo WW1Ob1dXbzBhMmM9AA== | base64 -d&lt;/code&gt;&lt;/p&gt;

    &lt;p&gt;(ignore trailing % if using zsh or fish shell)&lt;/p&gt;

    &lt;p&gt;So that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;WW1Ob1dXbzBhMmM9AA==&lt;/code&gt; becomes: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;YmNoWWo0a2c=&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Then visit: http://admin:YmNoWWo0a2c@192.168.0.1/main.html
(note lack of = in url string)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;If prompted for login, user: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;admin&lt;/code&gt;, password: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;YmNoWWo0a2c=&lt;/code&gt;
(note = this time)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;From here you can now access the DNS settings from the Advanced Setup menu.&lt;/p&gt;

    &lt;p&gt;As a bonus easter egg, Optus pops up an alert: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Optus does not recommend changing these settings unless you are a proficient computer user.&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Write down anything you change, and probably test reverting it just in case something goes wrong, or you decide to change it back 2 years from now and can’t remember what you did.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The original DNS servers suggested by Optus when I made this change were 198.142.152.164 and 198.142.152.165 (which I’m writing down here JUST IN CASE I ever need them!).&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/optus-router-hack-dns&amp;amp;text=Hacking an Optus Sagemcom F@ST3864V2 router to change DNS settings&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Unhelpful Laravel Bug | Undefined offset: 0</title>
   <link href="https://blog.jacksonbates.com/laravel-routes-bug"/>
   <updated>2021-03-17T13:30:00+11:00</updated>
   <id>https://blog.jacksonbates.com/laravel-routes-bug</id>
   <content type="html">&lt;p&gt;Some time wasted on a silly mistake today.&lt;/p&gt;

&lt;p&gt;I received &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Undefined offset: 0&lt;/code&gt; as an error response from my Laravel API. The API call and routes / controllers were identical to other attempts at something similar in other parts of the same codebase.&lt;/p&gt;

&lt;p&gt;Numerous Stack Overflow responses explain that this happens when a database record that does not exist is referenced. However, this was a simple GET request that was failing at even returning a simple string with no attempt at reading from the database, so those responses felt irrelevant.&lt;/p&gt;

&lt;h2 id=&quot;what-was-happening&quot;&gt;What was happening?&lt;/h2&gt;

&lt;p&gt;The cause of the problem in the end was sloppy API route naming and attempting to (unwittingly) access database records that didn’t exist.&lt;/p&gt;

&lt;p&gt;Here’s an example of the routes:&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nc&quot;&gt;Route&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;prefix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'resources'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;Route&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'{resource}'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ResourceController@show'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;Route&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'our-resources'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ResourceController@showCompanyResources'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;Route&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'response'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ResourceController@submit'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;GETs to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/api/resources/:resource_id&lt;/code&gt; worked fine.&lt;/p&gt;

&lt;p&gt;POSTs to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/api/resources/response&lt;/code&gt; also worked fine.&lt;/p&gt;

&lt;p&gt;But GET to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/api/resources/our-resources&lt;/code&gt; triggered the error.&lt;/p&gt;

&lt;p&gt;Now that I type it out, the reason is pretty obvious. GET &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/api/resources/our-resources&lt;/code&gt; is interpreted as a call to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/api/resources/:resource_id&lt;/code&gt; where the id is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;our-resources&lt;/code&gt;. So the @show method on the controller was intercepting the request, and not finding the correct resource (as it didn’t exist in the database).&lt;/p&gt;

&lt;p&gt;The routes are tested in the order they are listed, so &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/api/resources/our-resources&lt;/code&gt; is never reached.&lt;/p&gt;

&lt;h2 id=&quot;fix&quot;&gt;Fix&lt;/h2&gt;

&lt;p&gt;One quick fix is to change the order of the routes like this:&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nc&quot;&gt;Route&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;prefix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'resources'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;Route&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'our-resources'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ResourceController@showCompanyResources'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;Route&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'{resource}'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ResourceController@show'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;Route&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'response'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ResourceController@submit'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Alternatively, you can use more precise name-spacing for your routes to avoid these clashes.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/laravel-routes-bug&amp;amp;text=Unhelpful Laravel Bug | Undefined offset: 0&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>How to find a mentor</title>
   <link href="https://blog.jacksonbates.com/finding-a-mentor"/>
   <updated>2020-11-27T22:00:00+11:00</updated>
   <id>https://blog.jacksonbates.com/mentorship</id>
   <content type="html">&lt;p&gt;There was an excellent discussion between Jason Lengstorf and Cassidy Williams hosted on the freeCodeCamp YouTube channel this week, and part of it (linked below) really resonated with me about mentorship.&lt;/p&gt;

&lt;p&gt;As someone that hangs out in plenty of online forums / chats with beginner and early career developers, I get asked to formally be people’s mentors pretty often.&lt;/p&gt;

&lt;p&gt;The most recent request was on Twitter, where someone that had never interacted with me before sent me a DM that just said “Would you be my mentor? I promise I won’t take up too much of your time!”&lt;/p&gt;

&lt;p&gt;I don’t have a problem with helping people and taking on a mentor role - in fact I love it - but this type of approach never gets a positive response from me.&lt;/p&gt;

&lt;p&gt;To understand why, it helps to take a step back and think about what mentorship is and why it’s so valuable.&lt;/p&gt;

&lt;p&gt;Here is another freeCodeCamp offering, this time from the podcast episode with fellow Melbournian Kate Illsley:&lt;/p&gt;

&lt;p&gt;Kate’s comments on mentorship start around the &lt;strong&gt;40:30&lt;/strong&gt; mark for about 5 minutes.&lt;/p&gt;

&lt;hr /&gt;

&lt;iframe style=&quot;border: none&quot; src=&quot;//html5-player.libsyn.com/embed/episode/id/9647195/height/90/theme/custom/thumbnail/yes/direction/forward/render-playlist/no/custom-color/000000/&quot; height=&quot;90&quot; width=&quot;100%&quot; scrolling=&quot;no&quot; allowfullscreen=&quot;&quot; webkitallowfullscreen=&quot;&quot; mozallowfullscreen=&quot;&quot; oallowfullscreen=&quot;&quot; msallowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;hr /&gt;

&lt;p&gt;In the podcast above, Kate describes four types of mentor relationship you should try to cultivate:&lt;/p&gt;

&lt;h2 id=&quot;traditional-mentor&quot;&gt;Traditional Mentor&lt;/h2&gt;

&lt;p&gt;A person taking on the ‘traditional’ role of a mentor is what most people think of, that is: someone that can guide and advise you as you try to grow in a particular domain.&lt;/p&gt;

&lt;h2 id=&quot;peer&quot;&gt;Peer&lt;/h2&gt;

&lt;p&gt;It’s also worthwhile working with people at your level that share similar goals. This can feel counter-intuitive from a mentorship perspective, but if you consider the Venn diagram of everything you know and everything they know, the areas outside of your overlapping knowledge and experiences provide excellent opportunities for shared growth.&lt;/p&gt;

&lt;h2 id=&quot;mentee&quot;&gt;Mentee&lt;/h2&gt;

&lt;p&gt;There are things you know that other people do not know. You’ve had experiences others have not. While you consider the value of having a mentor, it’s important to acknowledge that it’s very likely you could be the very mentor someone else needs right now. Making yourself available to others in this capacity can be very rewarding, and will also benefit you in developing your own leadership and communication skills.&lt;/p&gt;

&lt;h2 id=&quot;role-model&quot;&gt;Role model&lt;/h2&gt;

&lt;p&gt;Finally, a role model might be someone more inaccessible, but who represents pinnacle of achievement for you. For me typically I don’t really engage with them directly, except maybe the occasional reply to a tweet, but I do read everything they’ve written, listen to all their podcast interviews, and try to find the lessons that are applicable to me in the path they have taken to get where I want to be.&lt;/p&gt;

&lt;h3 id=&quot;your-responsibility-towards-a-mentor&quot;&gt;Your responsibility towards a mentor&lt;/h3&gt;

&lt;p&gt;As Kate points out in the podcast above, it is important to add value back to the mentor in your relationship.&lt;/p&gt;

&lt;p&gt;Action their advice so that their time has not wasted on you. And above all, say thank you.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;This leads on to Cassidy Williams’ slightly longer discussion of the topic recently. Cassidy talks about this in the video below starting at the 37:26 mark (the video is cued to start there), and goes for about 9 minutes.&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/qsBfyUzZhTc?start=2246&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;Cassidy hits upon the faux pas of just sending a DM: ‘Will you be my mentor?’.&lt;/p&gt;

&lt;p&gt;She explains really well that a true mentor relationship is something that occurs naturally between two people over time. The key is to engage with people like normal people, and when you have a specific thing to ask, to ask it simply and concisely.&lt;/p&gt;

&lt;p&gt;The thing I love most about Cassidy’s advice is to be active in communities and potential mentors will become apparent. Every person I’ve mentored in any capacity has always sort of fallen into it just by virtue of being in the same communities as me, be that in-person meet ups, the freeCodeCamp forum, Twitter, various Slack and Discord groups, or wherever.&lt;/p&gt;

&lt;p&gt;Likewise, those that have mentored me in any capacity, have done so because we had a real and natural relationship as people before I needed anything from them that they could support me with.&lt;/p&gt;

&lt;p&gt;I hope this post doesn’t scare people off from seeking mentorship - especially from me, as it’s something I’ve always found valuable. But I also hope it helps frame mentorship more clearly for people as something that grows rather than something that gets bestowed upon people.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/finding-a-mentor&amp;amp;text=How to find a mentor&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>What Running Taught Me About Persistence and Programming</title>
   <link href="https://blog.jacksonbates.com/running-thoughts"/>
   <updated>2020-11-20T21:23:00+11:00</updated>
   <id>https://blog.jacksonbates.com/running</id>
   <content type="html">&lt;p&gt;I learned two lessons from running long distances that I’ve noticed apply to my perserverence and capability as a programmer.&lt;/p&gt;

&lt;p&gt;Both of them can be summarized: The body lies.&lt;/p&gt;

&lt;h2 id=&quot;lesson-one---the-body-lies&quot;&gt;Lesson One - The Body Lies&lt;/h2&gt;

&lt;p&gt;When starting out as a runner, I would feel great for the first three minutes. As my feet pounded the pavement I had this sense that ‘Yes! I can do this! I’m a RUNNER!’&lt;/p&gt;

&lt;p&gt;By the fourth minute I’d be breathing too hard, with my chest pounding, and my legs ready to give up.&lt;/p&gt;

&lt;p&gt;My strategy at this point was to stop running. Walk for a bit. Maybe walk home.&lt;/p&gt;

&lt;p&gt;Eventually, I realised that the feeling in my body could actually be ignored. You can slow down a bit if you like, but you don’t actually have to stop. When you run just beyond what is comfortable after the first few minutes and then keep going, your body just sort of says ‘fine’, and carries on. You hit a decent rhythm and sort of forget that you are not really a runner. Then eventually that goes away, too, and you can in fact run distances you’d never have dreamed possible.&lt;/p&gt;

&lt;p&gt;Your body will react to discomfort - it’s a natural safety mechanism. But for many of us that safety mechanism is too finely tuned, much like the alarm on the refrigerator door if you took a few too many seconds pouring your milk on your cereal in the morning.&lt;/p&gt;

&lt;p&gt;When faced with a confusing piece of syntax as a beginning programmer, your brain will attempt to hijack your attention with memes (best case scenario), or negative self-talk (not so good scenario).&lt;/p&gt;

&lt;p&gt;You can push through that though, and eventually you hit a decent rhythm and sort of forget you’re not really a programmer. That, too, eventually goes away.&lt;/p&gt;

&lt;h3 id=&quot;moral-of-the-story&quot;&gt;Moral of the story&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;keep doing the thing you think you can’t until you can.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;lesson-two---the-body-lies&quot;&gt;Lesson Two - The Body Lies&lt;/h2&gt;

&lt;p&gt;As is the way for all wannabe distance runners, eventually I wanted to run a marathon. 42km is significantly more challenging than the 10km I’d made my habit.&lt;/p&gt;

&lt;p&gt;To prepare for this, I followed a training plan. It was simple enough: some speed work, some hills, and a long slow run at the weekend where I’d increase my distance incrementally.&lt;/p&gt;

&lt;p&gt;Week by week I was following the golden rule of adding 10% extra distance to my mileage.&lt;/p&gt;

&lt;p&gt;However, I’m an impatient lad. I knew I could run further than my plan had me running. I was at the fittest I’d ever been in my life. I was running for an hour non-stop and then finishing up feeling absolutely fine and carrying on with my day. Not even leg aches the next day.&lt;/p&gt;

&lt;p&gt;So I quickly decided to just see how far I could run one Saturday morning:&lt;/p&gt;

&lt;iframe height=&quot;405&quot; width=&quot;590&quot; frameborder=&quot;0&quot; allowtransparency=&quot;true&quot; scrolling=&quot;no&quot; src=&quot;https://www.strava.com/activities/4241338031/embed/752cf76d9fe8e1b816f14770e970a44816eb5f28&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;It’s a little more complicated than just deciding to run 20km…I’d previously run 17km shortly before, and 12km before that. I was pushing myself further faster than I was supposed to because my body wasn’t complaining about it.&lt;/p&gt;

&lt;p&gt;I knew what it felt like to suffer when running, because I remember being wheezy and tired. At this point I felt indestructible!&lt;/p&gt;

&lt;p&gt;However, what I have since learned is that your cardio capacity improves much quicker than your muscle and bone strength.&lt;/p&gt;

&lt;p&gt;Your heart and lungs will let you run 20km, sure, but if you haven’t really done the work in your legs, you’re headed for trouble.&lt;/p&gt;

&lt;p&gt;My ankle gave out the following day. It took about two months to recover enough that I could run 3km again - and even then I was getting recurring issues for months afterwards.&lt;/p&gt;

&lt;p&gt;I never made the marathon - going too hard too soon killed that goal.&lt;/p&gt;

&lt;p&gt;I’ve been guilty of this same cavalier attitude with programming, too.&lt;/p&gt;

&lt;p&gt;It’s easy to get swept up in a problem and feel wide awake past midnight. The screen tricks your brain into thinking it’s daytime, and you keep telling yourself you are not tired. The body lying to you again. So you keep going until 2am.&lt;/p&gt;

&lt;p&gt;Do that for a few nights a week, like I used to, and you (and your family) are in for a bad time! My mood swings were awful, my motivation shot to pieces, and I was getting really sick and run down all the time.&lt;/p&gt;

&lt;p&gt;As with distance running - it’s better to decide up front what you know is a reasonable pace to work at and then stick to it no matter what you stupid body tells you at 11pm on a weeknight.&lt;/p&gt;

&lt;h3 id=&quot;moral-of-the-story-1&quot;&gt;Moral of the story:&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;don’t keep doing the thing you think you can until you can’t.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I hope you have found this paradox of persitence helpful.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/running-thoughts&amp;amp;text=What Running Taught Me About Persistence and Programming&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>How to Restart Tinker</title>
   <link href="https://blog.jacksonbates.com/tinker-restart"/>
   <updated>2020-11-18T21:00:00+11:00</updated>
   <id>https://blog.jacksonbates.com/tinker-cache-busting</id>
   <content type="html">&lt;p&gt;I was stuck with an annoying scenario today:&lt;/p&gt;

&lt;p&gt;I was making changes to a utility class I’d written in Laravel to work with the HubSpot API. In order to debug an error I was seeing I needed to make small changes and use Tinker to run the command again.&lt;/p&gt;

&lt;p&gt;By design, however, Tinker cannot simply be refreshed or rebooted. You need to exit out of Tinker and start it again. This is a minor inconvenience usually, but when you need to do it dozens of times, it gets pretty tiresome.&lt;/p&gt;

&lt;p&gt;Thankfully, this GitHub issue &lt;a href=&quot;https://github.com/laravel/framework/issues/8504&quot;&gt;Tinker must be restarted to take effect&lt;/a&gt; has a passable solution. You can open Tinker in a loop and have it restart with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CTRL + d&lt;/code&gt;, or close it with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CTRL + c&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;while &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do &lt;/span&gt;php artisan tinker&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can make this easier by creating an alias in your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.bashrc&lt;/code&gt; or equivalent.&lt;/p&gt;

&lt;p&gt;I modified this slightly, as I was running Tinker in a Docker container:&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;while &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do &lt;/span&gt;docker-compose &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;app php artisan tinker&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It’s a small improvement, but such improvements restore santiy, don’t they.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/tinker-restart&amp;amp;text=How to Restart Tinker&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>How to Orient Yourself in Legacy Codebases</title>
   <link href="https://blog.jacksonbates.com/legacy-code"/>
   <updated>2020-11-16T22:30:00+11:00</updated>
   <id>https://blog.jacksonbates.com/legacy-code</id>
   <content type="html">&lt;p&gt;There was a thought-provoking episode of DevsLikeUs on YouTube that I watched today: &lt;a href=&quot;https://www.youtube.com/watch?v=FGYE83KmoQ8&amp;amp;t=2753s&quot;&gt;Inherit Legacy Code Like a Pro - The Allen Interview&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;There was some great discussion of what legacy code is and, amongst other things, how you might tackle a legacy codebase when faced with one. It’s worth watching in its entirety, but I thought I’d add my reflections on that here too, since I have some similar feelings about legacy code, and some alternative strategies for getting to grips with it.&lt;/p&gt;

&lt;h2 id=&quot;what-is-legacy-code&quot;&gt;What is Legacy Code?&lt;/h2&gt;

&lt;p&gt;There are plenty of definitions of legacy code floating around. Many think of it simply as code they didn’t write. Another popular definition is any code without tests. Perhaps a more reasonable definition is code written by someone you don’t have access to.&lt;/p&gt;

&lt;p&gt;I think of it more like an inheritance: code that has been passed on to you. It’s now your responsibility to shepherd the project and help it continue to grow. Much like inherited wealth, your job is to steward it well, and make more. Not only does this imbue it with some respect for the successful work completed by those that came before - it also serves to remind us that we too are building a legacy that will be passed on to others down the line.&lt;/p&gt;

&lt;p&gt;Of course, ‘legacy code’ is a term most often used to describe something complex, complicated, and perhaps convoluted. More often than not, the phrase evokes the notion of technical debt. It’s not unheard of that legacy code might also strike fear into the hearts of those working with it - there may be corners of the codebase responsible for important buisness logic that noone has been brave enough to touch in years because it is too important to break, and no-one feels they understand it confidently enough to improve.&lt;/p&gt;

&lt;h2 id=&quot;orienting-yourself-in-legacy-code&quot;&gt;Orienting yourself in Legacy Code&lt;/h2&gt;

&lt;p&gt;As a solo dev that has inherited a codebase, I tend to think about this from the perspective of someone that only has their own wits available to them to solve problems. Usually, when you are first exploring an existing codebase there are other developers that have been working on the same code around that you can ask questions of. In this case, use them as much as you can.&lt;/p&gt;

&lt;p&gt;Assuming you have to go it somewhat alone, though, here’s how I’d typically try to get a handle on an existing project.&lt;/p&gt;

&lt;h3 id=&quot;start-small&quot;&gt;Start small&lt;/h3&gt;

&lt;p&gt;Find a particular part of the system that makes sense to you, and try to understand it. For example, you might examine how a user logs in. Start at the UI level and find where the code responsible for the page and login form live in the codebase. Then look at how they send the user credentials: what route are they sent to? How is the data processed and verified? What happens if they pass or fail? How is the user redirect handled? Etc.&lt;/p&gt;

&lt;p&gt;Once you have an understanding of how a single user process happens, you can think about it experimentally. What would happen if you made a change at various stages? Make predictions and test them. Once you can successfully predict the effect of changes to the system, you can confidently assume you have a decent understanding of that part.&lt;/p&gt;

&lt;p&gt;Then explore other parts, and so on.&lt;/p&gt;

&lt;h3 id=&quot;examine-the-structure&quot;&gt;Examine the structure&lt;/h3&gt;

&lt;p&gt;Looking at the micro level - how each user work flow is suported by the system - is excellent, but time consuming. It also serves you well to take a step back and try to see the macro view of how the project is structured.&lt;/p&gt;

&lt;p&gt;Looking at folder structure can reveal a lot about where the various responsibilities in the codebase lie. Attempt to find where the UI is described and how it is rendered. Look for where and how database actions occur. How are routes defined? Are there automated services or routine, scheduled processes the system relies upon?&lt;/p&gt;

&lt;p&gt;Having a good mental map of the codebase will help you find the approprite files, modules, classes, or functions required to make changes of repairs more quickly and confidently.&lt;/p&gt;

&lt;h3 id=&quot;uncover-its-secrets&quot;&gt;Uncover its secrets&lt;/h3&gt;

&lt;p&gt;Projects will often have config files and secrets files, such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.env&lt;/code&gt;. Reviewing these can help you understand what kinds of APIs and services the project relies on, so a quick glance at these files can show you some of the broader dependencies that might not be immediately obvious by just looking within the core project code.&lt;/p&gt;

&lt;h3 id=&quot;look-to-the-past&quot;&gt;Look to the past&lt;/h3&gt;

&lt;p&gt;Assuming the project has version control, reviewing the git log, the closed issues or PRs, and the database migrations can help piece together the story of how the project became what it is today. Looking through such records in reverse chronological order is a little like peeling back the layers of an onion to reveal what kind of priorites and issues had been driving development prior to your arrival.&lt;/p&gt;

&lt;p&gt;With details like these, although the original developers may be long gone, you may be able to find colleagues with memory of how business priorities shifted to explain why certain decisions in the codebase may have been made. Even without access to those that had technical knowledge of what went before, hearing from those that may have historical insights can help you understand what kinds of business constraints may have been shaping the development work.&lt;/p&gt;

&lt;h3 id=&quot;move-slowly-and-surely&quot;&gt;Move slowly and surely&lt;/h3&gt;

&lt;p&gt;It goes without saying: legacy code has been providing value and serving your users since long before you arrived. If changes are required, check them thoroughly in development before rolling out to production. And if you have the freedom to add tests, do so.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Legacy code is code that has been paying the bills. That doesn’t mean it’s necessarily easy to work with, but the one thing you can usually rely on is the fundamental principle that it must be based on logic. Obscure syntax, convoluted structures, and ignored conventions can slow you down, but finding threads and pulling on them to see where they go and learning to ask the right questions can get you eventually feeling somewhat at home in a legacy codebase.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/legacy-code&amp;amp;text=How to Orient Yourself in Legacy Codebases&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>How to Add Reading Time to Jekyll</title>
   <link href="https://blog.jacksonbates.com/reading-time"/>
   <updated>2020-11-15T23:30:00+11:00</updated>
   <id>https://blog.jacksonbates.com/reading-time</id>
   <content type="html">&lt;p&gt;One of the resonably simple things I’ve wanted to add for a while is an estimated reading time note on all my blog posts.&lt;/p&gt;

&lt;p&gt;I like that you can hack something like this together quickly and add it to Jekyll sites.&lt;/p&gt;

&lt;p&gt;Here’s how I did it.&lt;/p&gt;

&lt;h2 id=&quot;calculating-the-wordcount-roughly&quot;&gt;Calculating the wordcount (roughly)&lt;/h2&gt;

&lt;p&gt;The first thing to do is figure out how many words are in a post. This only needed to be a rough count for my purposes, so I basically grabbed all the text within the element wrapping the post content, split it by word, and then count them.&lt;/p&gt;

&lt;p&gt;My posts are all in an article element with the class &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;post&lt;/code&gt; so this was as easy as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;document.querySelector('.post').innerText.split(' ').length&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;I used the rough calculation of 300 words per minute, and just round up or down to the nearest minute.&lt;/p&gt;

&lt;p&gt;The final snippet, saved as the include &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;readingtime.html&lt;/code&gt;, looks like this:&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;script&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;DOMContentLoaded&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;wordcount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;.post&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;innerText&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;minutes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wordcount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;unit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; minutes.&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;minutes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;unit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; minute.&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;readingTime&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;innerText&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;
      &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Reading Time: &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;minutes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;unit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;readingTime&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then all I needed to do was add the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;include readingtime.html&lt;/code&gt; to an appropriate spot on my &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;post.html&lt;/code&gt; layout.&lt;/p&gt;

&lt;p&gt;And that was it - minimal fuss, autocalculated reading time estimates on all posts historical and going forward.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/reading-time&amp;amp;text=How to Add Reading Time to Jekyll&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Creativity Wants Constraints</title>
   <link href="https://blog.jacksonbates.com/creativity-wants-constraints"/>
   <updated>2020-11-13T22:30:00+11:00</updated>
   <id>https://blog.jacksonbates.com/creativity-wants-constraints</id>
   <content type="html">&lt;p&gt;Before software engineering, I was an English Teacher, and before that, a wannabe poet.&lt;/p&gt;

&lt;p&gt;I’ve always been fascinated by poetry, especially that which attempts to conform to strict patterns of rhyme, rhythm or metre. For a long time I was convinced that such poetry was stale or hackneyed, and that true creative expression could only be found in free verse - that which broke the traditional rules.&lt;/p&gt;

&lt;p&gt;However, when I forced myself to write in particular forms, even ones I considered to be cliche, or childish, I discovered that something interesting happened:&lt;/p&gt;

&lt;p&gt;I could create more interesting things and have more interesting ideas when there were rules attempting to limit them.&lt;/p&gt;

&lt;p&gt;This is what fascinates me.&lt;/p&gt;

&lt;p&gt;I can think about something I’ve thought about often and glean no new insights, but ask me to write about the topic in exactly 14 lines, in iambic pentametre and following the English or Italian pattern for such sonnets and I will uncover ways of thinking, feeling, and seeing the topic anew.&lt;/p&gt;

&lt;p&gt;It doesn’t have to be a sonnet. Or any recognised form. The simple act of applying a constraint to the task is enough to generate new ideas. You could avoid the letter E, for example.&lt;/p&gt;

&lt;p&gt;I don’t know why it leads to creativity. My hunch is that it’s just enough of a jolt to knock your brain out of its usual groove and explore some new pathways.&lt;/p&gt;

&lt;p&gt;It doesn’t have to be poetry, either. I think this applies to pretty much any domain.&lt;/p&gt;

&lt;p&gt;Consider the act of drawing. You might be asked to draw something simple, like a house.&lt;/p&gt;

&lt;p&gt;We can apply arbitrary rules to the activity to see if it uncovers fresh ideas of what the essence of ‘house’ is.&lt;/p&gt;

&lt;p&gt;You can only use straight lines. Or, you may not use any straight lines. You may not lift you pen from the paper. Or, you may not use paper.&lt;/p&gt;

&lt;p&gt;Anything could be the constraint designed to shake up your routine approach to uncover something novel - perhaps one of the main purposes of art is to provide that outlet for such an activity.&lt;/p&gt;

&lt;p&gt;Of couse, you could apply this to programming too: solve this without loops, include regex in your solution, ensure all functions are less than 5 lines long. Arbitrarily introducing constraints could uncover interesting new patterns you may not have stumbled upon relying on your usual tricks.&lt;/p&gt;

&lt;p&gt;Programming often comes with it’s own constraints anyway, so you may feel that fabricated ones are a pointless distraction. I still feel they could serve as a useful tool when tinkering with puzzles or side-projects, though.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/creativity-wants-constraints&amp;amp;text=Creativity Wants Constraints&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Ensuring Code Quality as a Solo Dev</title>
   <link href="https://blog.jacksonbates.com/solo-dev-code-quality"/>
   <updated>2020-11-04T23:20:00+11:00</updated>
   <id>https://blog.jacksonbates.com/solo-dev-code-quality</id>
   <content type="html">&lt;p&gt;An interesting question from Twitter:&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;Anyone working as a sole dev in the project? &lt;br /&gt;&lt;br /&gt;Since you can only depend on lints and there won&amp;#39;t be any senior to review the code.&lt;br /&gt;&lt;br /&gt;How do you maintain code quality?&lt;/p&gt;&amp;mdash; Prabin Poudel (@coolprobn) &lt;a href=&quot;https://twitter.com/coolprobn/status/1323864098770092033?ref_src=twsrc%5Etfw&quot;&gt;November 4, 2020&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;p&gt;Obviously, I think about this a lot, since I’ve been the solo developer at Grace Papers for the last 11 months.&lt;/p&gt;

&lt;p&gt;The great thing about being a solo dev is the absolute autonomy you get over your codebase - there is no need to compromise on your preference for tabs vs spaces, trailing commas, omitted semi-colons, or anything else devs like to pointlessly lock horns over.&lt;/p&gt;

&lt;p&gt;As Prabin notes above - a linter is all you really need to ensure consistency in this regard.&lt;/p&gt;

&lt;p&gt;But if we can all just install Prettier and switch on format-on-save, then what do we need code review for? And can we write good code without it?&lt;/p&gt;

&lt;h2 id=&quot;the-purpose-of-code-review&quot;&gt;The purpose of code review&lt;/h2&gt;

&lt;p&gt;When we submit a PR for review, our reviewer is likely looking for a whole range of things. They are only human, but let’s assume we catch them on their best day. They might comment on:&lt;/p&gt;

&lt;h3 id=&quot;readability--coherence--clarity&quot;&gt;Readability / Coherence / Clarity&lt;/h3&gt;

&lt;p&gt;The easiest thing for your code reviewer to spot is whether what you’ve written makes sense to an ‘outsider’. You’ve been thinking about and tweaking this code for anything between a couple of hours, to maybe days or even weeks. A fresh perspective on the code can tell you whether this is something another person (or future you) can maintain with minimal cognitive overhead.&lt;/p&gt;

&lt;h3 id=&quot;functionality--completeness&quot;&gt;Functionality / Completeness&lt;/h3&gt;

&lt;p&gt;Your reviewer should also check whether it does what it is supposed to do. They might do this by reviewing test coverage (if you have added tests), or simply running it and trying various edge cases that their fresh perspective brings to it. Hopefully, your code reviewer knows the business problem you are attempting to solve, so they can assess the completeness of the solution.&lt;/p&gt;

&lt;h3 id=&quot;efficiency&quot;&gt;Efficiency&lt;/h3&gt;

&lt;p&gt;More experienced developers (or simply those with a knack for this kind of thing) can find opportunities for efficiencies in your code. On the one hand, they may recognise that your nested loops can be simplified with a nicer O(log n) solution that improves the resource usage of your code. On the other hand, they may spot an opportunity to refactor and modularize your code to cut down on repetition.&lt;/p&gt;

&lt;h3 id=&quot;best-practices--code-smells&quot;&gt;Best Practices / ‘Code smells’&lt;/h3&gt;

&lt;p&gt;Another category of code intervention a reviewer might provide is to point out where best practices have been missed or ‘code smells’ have been introduced. This might be as simple as pointing out naming conventions for your language or framework, pointing out things like hard-coded values and magic numbers, or classes have become bloated and out of control.&lt;/p&gt;

&lt;h2 id=&quot;can-all-this-be-done-alone&quot;&gt;Can all this be done alone?&lt;/h2&gt;

&lt;p&gt;A solo developer’s capacity to stay on top of all of the above is determined by a number of factors:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;What is their experience / knowledge level?
    &lt;ul&gt;
      &lt;li&gt;The more our dev knows, the more they have experienced, the more they are likely to be able to self-review according to the above categories.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;How much time do they have to complete each unit of work?
    &lt;ul&gt;
      &lt;li&gt;Business pressures might make thorough, diligent, and careful code harder to deliver. The requirement to deliver &lt;em&gt;fast&lt;/em&gt; often impacts on the ability to deliver &lt;em&gt;well&lt;/em&gt;.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;How are their energy levels / focus at the moment?
    &lt;ul&gt;
      &lt;li&gt;Even the most experienced devs can have their off days and miss things that they’d usually spot and remediate themselves.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;All of this can be done, with enough time and experience.&lt;/p&gt;

&lt;p&gt;But let’s assume a dev with less experience - a category I fall into, as it happens.&lt;/p&gt;

&lt;p&gt;The &lt;strong&gt;clarity&lt;/strong&gt; issue is hard to do alone - your best bet is to return to code you’ve written periodically and see if it still makes sense to you. You are unlikely to have time to revisit and fix such code down the track, but you will bump up against code you’ve written from time to time, and as you re-encounter it you may be able to tighten up what you wrote to clarify it.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Functionality and completeness&lt;/strong&gt; is easier. As I alluded to above, good test coverage can help you think about edge cases beforehand. Although you are the solo dev on your team, hopefully there are other people within your organisation that can do some user acceptance testing (UAT) for you. It is hard to QA your own work, for the same reason it is hard to spot your own lack of clarity: you’ve just written it and you’re thinking about the ‘&lt;a href=&quot;https://en.wikipedia.org/wiki/Happy_path&quot;&gt;happy path&lt;/a&gt;’. Getting a second perspective, even from a non-dev, will help you find the edge cases you didn’t think of.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Efficiency&lt;/strong&gt;, both in terms of speed and code repetition is a matter of experience and knowledge. The best tool you have at your disposal here is time. Take some time before pushing your commits to ask some questions about your own code: Where are the possible inefficiencies - nested loops, frequent database operations, that kind of thing. Think about other ways to achieve the same outcome in more efficient ways - knowledge of data structures and common alogorithms / patterns can help here. The other thing to spend some time on is learning these. Obviously, if you catch yourself copying and pasting code from within the codebase, you likely have an opportunity to refactor there, too.&lt;/p&gt;

&lt;p&gt;Learning &lt;strong&gt;best practices&lt;/strong&gt; and how to avoid &lt;strong&gt;code smells&lt;/strong&gt; doesn’t come with short cuts. If you don’t have a more senior developer above you to guide you in this regard, you need to seek this knowledge out for yourself. There are some fundamentals you should learn about your languages, frameworks and database design. To find good material about these you can often find books detailing Patterns / Anti-Patterns, and these can provide excellent proxies for the mentor you don’t have. Another place to learn patterns from is open source. Github search is a powerful tool for seeing how other projects implement ideas, and well maintained repos can be incredibly instructive to read through.&lt;/p&gt;

&lt;p&gt;If your problem, on the other hand, is that you do not have the time of the energy to do a better job…all you can really do is try your best and agitate within your organisation for either a second dev to help out, or more time to make up for the lack of a second dev.&lt;/p&gt;

&lt;p&gt;It goes without saying, that as a solo dev it is entirely likely that there are things I have missed in this post, just as I miss things in my own code. If you have another perspective on this issue, I’d love to hear about it!&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/solo-dev-code-quality&amp;amp;text=Ensuring Code Quality as a Solo Dev&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>The Case of the Spontaneous Data</title>
   <link href="https://blog.jacksonbates.com/spontaneous-data"/>
   <updated>2020-10-31T11:00:00+11:00</updated>
   <id>https://blog.jacksonbates.com/case-of-spontaneous-data</id>
   <content type="html">&lt;p&gt;Long before the invention of the internet, and indeed before medicine as we know it, there was a belief in a process known as Spontaneous Generation.&lt;/p&gt;

&lt;p&gt;It was the explanation for the manifestation of maggots on meat left exposed for a time. It was the explanation for the appearance of mice in pantries where cheese had been left. It might sometimes even tempt you to believe that the bugs in your code simply materialized, perhaps catalyzed by the proximity of your code, but certainly not caused by it.&lt;/p&gt;

&lt;h2 id=&quot;the-inherited-codebase-diaries-the-case-of-the-spontaneous-data&quot;&gt;The Inherited Codebase Diaries: The case of the spontaneous data&lt;/h2&gt;

&lt;p&gt;The previous blog post discussed the virtues of using database migrations to make and track changes to your database schema. We laughed, we cried, we promised to never change our schemas without migrations ever again.&lt;/p&gt;

&lt;p&gt;An interesting problem surfaced in the inherited codebase a few months ago.&lt;/p&gt;

&lt;p&gt;I was writing some database seeders to set the stage for some automated testing (there were none, further chapters of these diaries are indeed pending). One of the seeders was recreating some user roles. For argument’s sake let’s say &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id = 5&lt;/code&gt; was for &lt;strong&gt;Wizard&lt;/strong&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id = 6&lt;/code&gt; was for &lt;strong&gt;Ninja&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Running the completely fresh migrations and seeding the entirely empty database threw an error.&lt;/p&gt;

&lt;p&gt;Allegedly &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;roles.id&lt;/code&gt; 5 and 6 already existed! They had somehow spontaneously generated!&lt;/p&gt;

&lt;p&gt;Louis Pasteur proved spontaneous generation was an insufficient theory to explain the replication of bacteria, and a careful look in your inherited codebase may reveal similar scientific truths to you.&lt;/p&gt;

&lt;h3 id=&quot;the-culprit&quot;&gt;The culprit&lt;/h3&gt;

&lt;p&gt;As wonderful and important as database migrations are, you shouldn’t use your migrations to make every change to your database. While the structure of the database is crucial, what would your database be without the data? As important as it is to have good data, you should not be committing your data to migrations - even though this is possible and seems to make sense on the surface.&lt;/p&gt;

&lt;p&gt;In this instance, the errant Wizard and Ninja in the database were not merely appearing, they had been specifically added in the roles table as part of a migration performed on it.&lt;/p&gt;

&lt;p&gt;It’s worth pointing out that IDs 1-4 and 7+ were not handled in migrations, just these two.&lt;/p&gt;

&lt;p&gt;One does not simply expect consistency in an inherited codebase.&lt;/p&gt;

&lt;h3 id=&quot;the-solution&quot;&gt;The solution&lt;/h3&gt;

&lt;p&gt;What should they have done instead?&lt;/p&gt;

&lt;p&gt;If you need to seed a database with some initial values, it is likely your framework or ORM has the ability to write seeders of some sort - just like I was doing with Laravel in setting up a test database.&lt;/p&gt;

&lt;p&gt;You might find that you need to migrate data in your prod database - either reformating data in bulk, or adding new data in an automated way. In this case you likely have another scripting solution provided by your framework. For example Laravel has Artisan commands and Rails has Rake tasks. These can be a great tool for one off changes to your data in your database.&lt;/p&gt;

&lt;p&gt;The benefit of seeders is that they assume a clean slate. The benefit of artisan or rake tasks is that they can assume an occupied database and be as bespoke as you need them to be for large scale operations.&lt;/p&gt;

&lt;p&gt;The downside of handling these use cases with migrations is that the migrations alone can’t make assumptions based on the existing data, and applying data migrations on one occupied database can behave differently to others.&lt;/p&gt;

&lt;p&gt;Of course, the real culprit here is the inconsistency! One developer deciding to adopt a completely different pattern to the rest of their team, and then having that pass code review and make into production is sloppy to say the least. It is, however, not the most egregious thing I’ve seen in the inherited codebase so far…&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/spontaneous-data&amp;amp;text=The Case of the Spontaneous Data&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>The Case of the Missing Migrations</title>
   <link href="https://blog.jacksonbates.com/missing-migrations"/>
   <updated>2020-10-30T18:00:00+11:00</updated>
   <id>https://blog.jacksonbates.com/case-of-missing-migrations</id>
   <content type="html">&lt;p&gt;I’ve been working exclusively in an inherited codebase for nearly a year now and I frequently see things the previous developers did that have caused problems.&lt;/p&gt;

&lt;p&gt;Everytime I see one of these, I joke to myself that I’m going to write a book called &lt;em&gt;The Inherited Codebase Diaries&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;I’ve just started a little freelancing on the side too, and have come up against the same problem I first experienced in my normal day job codebase, so I can resist no more:&lt;/p&gt;

&lt;h2 id=&quot;the-inherited-codebase-diaries-the-case-of-the-missing-migrations&quot;&gt;The Inherited Codebase Diaries: The case of the missing migrations&lt;/h2&gt;

&lt;p&gt;Many database ORMs / App frameworks offer database migrations. These are like source control for your database.&lt;/p&gt;

&lt;p&gt;The great thing about them is that regardless of changes to your database schema, you can roll it back to any point in its history and restore a working database.&lt;/p&gt;

&lt;p&gt;It also allows new developers to spin up your app from scratch, run the database migrations, and then start developing.&lt;/p&gt;

&lt;p&gt;In theory, for example, you can clone a git repo of a production Laravel app, run a few set up commands (such as migration) and then have a working dev environment in minutes.&lt;/p&gt;

&lt;h3 id=&quot;the-problem&quot;&gt;The problem&lt;/h3&gt;

&lt;p&gt;Unfortunately, it can be tempting to make ad hoc changes to your database schema on the fly by directly manipulating the database.&lt;/p&gt;

&lt;p&gt;A little MySql command on the terminal or a ‘right click and change data type on this field’ in MySql Workbench is all it takes to change a VARCHAR to TEXT and it’s much quicker and easier than writing the migration, but it now means the migration records have a hole in them.&lt;/p&gt;

&lt;p&gt;This problem compounds when you do it multiple times, and the real problems start to kick in when later migrations make changes to the database as it is (hacky) but won’t work against the database you should have (according to your pristine migration records).&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;Laravel folks:&lt;br /&gt;How bad is it that changes have been made to prod DB without migrations (col data type changed &amp;amp; new col added to table)?&lt;br /&gt;Can I fix this by writing and running the migrations they should have written, or will the migrations fail because the schema is out of sync?&lt;/p&gt;&amp;mdash; Jackson Bates (@JacksonBates) &lt;a href=&quot;https://twitter.com/JacksonBates/status/1203074735531118592?ref_src=twsrc%5Etfw&quot;&gt;December 6, 2019&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;h3 id=&quot;fixing-the-problem&quot;&gt;Fixing the problem&lt;/h3&gt;

&lt;p&gt;You can probably just write the missing migration and run it - this might work, if you’re only dealing with a datatype change or column addition that is not later referenced by another migration.&lt;/p&gt;

&lt;p&gt;This won’t work if dependent migrations are an issue.&lt;/p&gt;

&lt;p&gt;Another thing to try is to write the migration, but backdate it so it runs at a time it should have run (migrations run chronologically). In this instance you want to carefully review all the migrations that reference the table and field in question and ensure your change makes logical sense.&lt;/p&gt;

&lt;p&gt;You’ll also need to tell your prod copy of the database that this migration has already run - in Laravel, for example, you could do this by manually adding a record to the migration table. Obviously, this is dangerous - you’re directly manipulating prod data. If it’s feasible, dump the prod database locally and test the change on your machine before messing with the real deal.&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-conversation=&quot;none&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;Depends if you want to be able to recreate the database from migrations at any point. I would write the migration then manually add the row to the migrations table. Just be careful if there are dependent migrations that have been added since&lt;/p&gt;&amp;mdash; Ben Slinger (@ben_slinger) &lt;a href=&quot;https://twitter.com/ben_slinger/status/1203081773657116672?ref_src=twsrc%5Etfw&quot;&gt;December 6, 2019&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;h3 id=&quot;variations-on-the-problem&quot;&gt;Variations on the problem&lt;/h3&gt;

&lt;p&gt;The recent incarnation of this problem is more problematic.&lt;/p&gt;

&lt;p&gt;Let’s say you have an existing app with a database, and then you decide to rewrite it in Laravel.&lt;/p&gt;

&lt;p&gt;The database already has a schema, and a long history of changes, but no migrations keeping record of that.&lt;/p&gt;

&lt;p&gt;Migrations generated on top of that will then make reference to a whole host of tables that the migrations have no concept of. When your new dev comes on board in this instance, they cannot rebuild your database at all, or really even reason about the schema.&lt;/p&gt;

&lt;p&gt;In this case, you likely have to provide them with a dump of your local database for them to work on - but this just kicks the problem down the road. In reality, you have no ability to spin up a fresh instance, and this will make testing and on-boarding a pain forevermore.&lt;/p&gt;

&lt;h3 id=&quot;moral-of-the-story&quot;&gt;Moral of the story&lt;/h3&gt;

&lt;p&gt;This ranges from minor to major pain in the ass, depending on the extent of the problem.&lt;/p&gt;

&lt;p&gt;If you make any change to your database, you must do so with migrations that can depend on each other, without breaking that dependency chain with ad hoc amendments.&lt;/p&gt;

&lt;p&gt;Also ensure your migrations are written properly to allow them to rollback accurately, too. Your ORM documentation will explain how.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/missing-migrations&amp;amp;text=The Case of the Missing Migrations&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Fixing AntD CSS Module Imports in Create React App with CRACO</title>
   <link href="https://blog.jacksonbates.com/antd-craco-shenanigans"/>
   <updated>2020-04-26T13:33:00+10:00</updated>
   <id>https://blog.jacksonbates.com/create-react-app-overrides</id>
   <content type="html">&lt;p&gt;In trying to speed up one of the inherited sites I maintain at work, I aimed to do the reasonably simple task of chunking CSS in a Create React App.&lt;/p&gt;

&lt;p&gt;It became clear quite quickly that the stylesheet for AntD was all being loaded at once, and fixing this is supposed to be quite easy, according to AntD’s documentation.&lt;/p&gt;

&lt;p&gt;In theory, AntD uses ES6 tree-shaking to only load the required CSS, when configured correctly. Normally this is handled with a webpack plugin, &lt;a href=&quot;https://github.com/ant-design/babel-plugin-import&quot;&gt;babel-plugin-import&lt;/a&gt;, but obviously this is complicated a little by Create React App, which abstracts away the webpack config.&lt;/p&gt;

&lt;p&gt;AntD recommend using react-app-rewired and customize-cra in their &lt;a href=&quot;https://ant.design/docs/react/use-with-create-react-app#Advanced-Guides&quot;&gt;Advanced Guide&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;After removing the initial vendor stylesheet loading left behind by the previous developers, the configuration suggested by AntD did work, and shaved 500kb off the initial CSS download.&lt;/p&gt;

&lt;p&gt;However, CI was failing due to build warnings, so this could not be deployed.&lt;/p&gt;

&lt;p&gt;The culprit was MiniCssExtractPlugin, which complains about &lt;a href=&quot;https://github.com/facebook/create-react-app/issues/5372&quot;&gt;Conflicting order&lt;/a&gt;. There are a number of Github issues about this.&lt;/p&gt;

&lt;p&gt;Ultimately, to fix this I determined that since the CSS order was not causing actual problems on the site, it was safe to silence those particular warnings. To do this, you can add the ignoreOrder option to MiniCssExtractPlugin in the webpack config.&lt;/p&gt;

&lt;p&gt;Unfortunately, the existing webpack config already has a reference to this and sets the ignoreOrder option to false.&lt;/p&gt;

&lt;p&gt;I decided to use CRACO (Create React App Config Override) instead of React App Rewired, since the config syntax is more similar to a real webpack config, and it allows you to use the existing webpack config directly to build your updated version.&lt;/p&gt;

&lt;p&gt;My final code in the craco.config.js looks like this:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;const CracoAntDesignPlugin = require(&quot;craco-antd&quot;);
const MiniCssExtractPlugin = require(&quot;mini-css-extract-plugin&quot;);

module.exports = {
  webpack: {
    configure: (webpackConfig, { env, paths }) =&amp;gt; {
      webpackConfig = {
        ...webpackConfig,
        plugins: [
          ...webpackConfig.plugins.filter((element) =&amp;gt; {
            if (element.options) {
              return !element.options.hasOwnProperty(&quot;ignoreOrder&quot;);
            }
            return true;
          }),
          new MiniCssExtractPlugin({
            filename: &quot;static/css/[name].[contenthash:8].css&quot;,
            moduleFilename: this.moduleFilename,
            ignoreOrder: true,
            chunkFilename: &quot;static/css/[name].[contenthash:8].chunk.css&quot;,
          }),
        ],
      };
      return webpackConfig;
    },
  },
  plugins: [{ plugin: CracoAntDesignPlugin }],
};
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The ‘craco-antd’ plugin does the same as the babel-import-plugin suggested by AntD - it’s just a simpler plugin version designed to work with CRACO.&lt;/p&gt;

&lt;p&gt;The part of this config I really want to improve is the naive filter for targeting the MiniCssExtractPlugin. You can see in the code above that I build the webpack config by spreading the original webpack config, and spreading the existing plugins, except for the one that has the “ignoreOrder” property, then I can add my own MiniCssExtractPlugin config at the end of the plugins array.&lt;/p&gt;

&lt;p&gt;However, this works for now and the much slimmer version of the app is happily deployed.&lt;/p&gt;

&lt;p&gt;This was, upon reflection, a lot of messing around to avoid ejecting the app, but I think the long term gains of being able to keep an easier to upgrade CRA, and all the perf and tooling work done behind the scenes with react-scripts, will vindicate this decision.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/antd-craco-shenanigans&amp;amp;text=Fixing AntD CSS Module Imports in Create React App with CRACO&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Succeeding in Your First Dev Role</title>
   <link href="https://blog.jacksonbates.com/beginner-dev-success"/>
   <updated>2019-08-14T13:00:00+10:00</updated>
   <id>https://blog.jacksonbates.com/first-job-part-two</id>
   <content type="html">&lt;p&gt;You’ve overcome the hurdles between you and your first role as a professional developer. Now you actually need to seem, and feel, like you know what you’re doing!&lt;/p&gt;

&lt;p&gt;Imposter Syndrome is something that haunts many developers at various stages of their careers, but if you have come into the industry from another field, with no professional experience, the first few months in your new role can feel particularly difficult. You have earned the job you were given, but that doesn’t mean you won’t occassionally feel like a fraud.&lt;/p&gt;

&lt;p&gt;Hopefully the following tips will help you overcome these feelings and give you some concrete steps towards succeeding.&lt;/p&gt;

&lt;h2 id=&quot;lots-to-learn---take-notes&quot;&gt;Lots to learn - take notes&lt;/h2&gt;

&lt;p&gt;I probably learned and promptly forgot more about web development in my first three months on the job than I had in the preceding two years.&lt;/p&gt;

&lt;p&gt;A trick I picked up a little too late in order to retain that early rush of knowledge was simply to take notes.&lt;/p&gt;

&lt;p&gt;Since we work with computers day-in, day-out, it makes sense to have those notes easily accessible on your computer, but even pen-and-paper notes are useful if that’s all you have available to you when you learn something new.&lt;/p&gt;

&lt;p&gt;Personally, I like Evernote because of the nice Tusk client for Ubuntu and its ease of use and searchability. But anything vaguely organised will do. If I were starting completely from scratch, I might give &lt;a href=&quot;https://notion.so&quot;&gt;Notion&lt;/a&gt; a go instead, since it rolls up task management, note taking and provides a lightweight database for more bespoke / structured data.&lt;/p&gt;

&lt;p&gt;One of my favourite things to keep in my notes are all those little tricks I see more senior developers do. If I spot someone rattling off a little command line magic I’d never seen before, I ask them to give me a quick explanation of it and write it down before I forget it. I’ll share some of these command line flourishes in a follow-up post.&lt;/p&gt;

&lt;h2 id=&quot;lots-to-celebrate---take-more-notes&quot;&gt;Lots to celebrate - take more notes&lt;/h2&gt;

&lt;p&gt;Nothing is a better antidote for Imposter Syndrome than having a good running list of your accomplishments. Everytime you implement a new feature, fix a quirky bug, or learn a new technology, make a note of it.&lt;/p&gt;

&lt;p&gt;You remember how hard it was when you had to write a resume with no professional experience? With an ever-growing list of your successes, not only will you not have that problem ever again, you’ll have a new problem: how do you fit everything you can do now on a single page resume?&lt;/p&gt;

&lt;h2 id=&quot;when-the-going-gets-tough-blog-about-it&quot;&gt;When the going gets tough blog about it&lt;/h2&gt;

&lt;p&gt;You will reach moments when you are stuck on something that feels unsolveable and every Google search leads you nowhere productive.&lt;/p&gt;

&lt;p&gt;You will also eventually solve the problem.&lt;/p&gt;

&lt;p&gt;When you do, get in the habit of writing up a post-mortem of what the issue was and how it was eventually solved. If possible, recreating a small code sandbox example of the problem and the fix can help you further. The benefit of this is twofold: firstly it helps you better understand, rememeber, and learn from the problem so yo ucan better tackle it next time. Secondly, it shows potential future employers how you go about problem solving.&lt;/p&gt;

&lt;h2 id=&quot;work-life-balance&quot;&gt;Work-Life Balance&lt;/h2&gt;

&lt;p&gt;If you switched careers, it is more than likely that you spent the previous year (or much more) working full-time, holding down all your other obligations, and still having to cram in coding practice time so you could pursue your dream.&lt;/p&gt;

&lt;p&gt;Now that you are in the industry, relax on your personal projects for a while. It can still feel tempting to fight the Imposter Syndrome by ramping up on a bunch of other technologies on your own time - but believe me, you are learning enough, and working hard enough already.&lt;/p&gt;

&lt;p&gt;You are entitled to have a life away from code, even in the early portion of your new career. Get some exercise, play some games, spend time with your kids, and catch up on all that sleep you missed with your late night coding sessions of yore.&lt;/p&gt;

&lt;p&gt;You can’t be a good developer if you are burnt out.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/beginner-dev-success&amp;amp;text=Succeeding in Your First Dev Role&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Switching Careers and Becoming a Programmer</title>
   <link href="https://blog.jacksonbates.com/career-switcher"/>
   <updated>2019-08-13T13:33:00+10:00</updated>
   <id>https://blog.jacksonbates.com/first-job-part-one</id>
   <content type="html">&lt;meta name=&quot;twitter:card&quot; content=&quot;summary_large_image&quot; /&gt;

&lt;meta name=&quot;twitter:site&quot; content=&quot;@jacksonbates&quot; /&gt;

&lt;meta name=&quot;twitter:title&quot; content=&quot;So You've Decided To Switch Careers and Start Coding&quot; /&gt;

&lt;meta name=&quot;twitter:description&quot; content=&quot;Maybe you're just thinking about switching careers to pursue programming, or maybe you have already made the leap and are early on enough in your career that you are still wondering about the wisdom of such a leap.&quot; /&gt;

&lt;meta name=&quot;twitter:image&quot; content=&quot;https://source.unsplash.com/pjAH2Ax4uWk&quot; /&gt;

&lt;p&gt;&lt;img src=&quot;https://source.unsplash.com/pjAH2Ax4uWk&quot; alt=&quot;a person looking at code on a computer screen&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Maybe you’re just thinking about switching careers to pursue programming, or maybe you have already made the leap and are early on enough in your career that you are still wondering about the wisdom of such a leap.&lt;/p&gt;

&lt;p&gt;This post is part-reflection, part-unsolicited-advice. It’s stuff that has been more or less true for me on most days, but as always, your mileage may vary.&lt;/p&gt;

&lt;h2 id=&quot;why&quot;&gt;Why?&lt;/h2&gt;

&lt;p&gt;If you’re reading this you likely already have your own ‘why’ for considering a career change.&lt;/p&gt;

&lt;p&gt;For me, I had been teaching for over a decade, wanted some new challenges, and also wanted to leave some of the less enjoyable parts of education behind me.&lt;/p&gt;

&lt;p&gt;Maybe you’re chasing more autonomy, more creativity, more money, more fun, more offices with frequent kitty and doggy visitors…they are all valid reasons. Don’t let anyone put you off because they wouldn’t switch careers for the same reasons as you.&lt;/p&gt;

&lt;h2 id=&quot;things-to-consider&quot;&gt;Things to consider&lt;/h2&gt;

&lt;p&gt;While your reasons for the switch are valid no matter what they are, the reality of the job should be interrogated carefully to see if it matches your expectations and dreams.&lt;/p&gt;

&lt;p&gt;If you can, chat with someone you know or can reach out to online to get the low-down on the things that matter to you.&lt;/p&gt;

&lt;p&gt;This can be tricky, especially if it’s a cold approach.&lt;/p&gt;

&lt;p&gt;Get along to meet-ups if you want a warm lead on people you can talk to about the industry. If you must, reach out online, but keep your message short, polite, and include a line that says something like &lt;strong&gt;‘absolutely no response is required from you if you don’t have time.’&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;I have met with people that have contacted me out of the blue in the past, so it’s not entirely uncommon, just remember to honour the other person’s time.&lt;/p&gt;

&lt;h2 id=&quot;what-you-could-lose&quot;&gt;What you could lose&lt;/h2&gt;

&lt;h3 id=&quot;money&quot;&gt;Money!&lt;/h3&gt;

&lt;p&gt;I won’t beat around the bush with this one. Switching careers can lead to a significant pay cut, depending on your previous career. Money isn’t the only consideration, of course, but you do need to have your eyes open in this regard.&lt;/p&gt;

&lt;p&gt;For a concrete example, I had been working in education long enough that I was at the top of the pay scale for a secondary classroom teacher, and I had also held positions of responsibility that came with their own pay bumps. As a result, as a teacher in Melbourne, Australia, I can make a six-figure salary.&lt;/p&gt;

&lt;p&gt;When I started my new career as a web developer, I immediately took more than a 40% pay cut.&lt;/p&gt;

&lt;p&gt;To be honest, I still ask myself about every three weeks or so whether it’s worth it. I’m paid a little more now, but I’d still make a lot more money in the classroom, even without additional responsibilities.&lt;/p&gt;

&lt;h3 id=&quot;prestige&quot;&gt;Prestige&lt;/h3&gt;

&lt;p&gt;Another thing you can lose is your level of expertise in your previous domain.&lt;/p&gt;

&lt;p&gt;I hadn’t given this much thought prior to switching, but one of the things I miss (which is almost certainly ego-driven), is being the most qualified person speaking on a subject.&lt;/p&gt;

&lt;p&gt;In teaching, I wasn’t always &lt;em&gt;the best&lt;/em&gt;, whatever you might mean by that, but I had enough expertise that oftentimes I would be the most experienced person in the room, leading discussions, shaping policies, and having people look to me to make the final decisions on things that were deemed to matter.&lt;/p&gt;

&lt;p&gt;Now I am usually the least experienced developer in the room (professionally speaking, at least). It’s not without its own advantages, but if you like the way you are currently viewed by your existing colleagues due to your hard-earned expertise, you might not like the change after you switch.&lt;/p&gt;

&lt;h2 id=&quot;what-you-might-gain&quot;&gt;What you might gain&lt;/h2&gt;

&lt;p&gt;It’s not all doom and gloom, obviously. I love being a web developer for many reasons.&lt;/p&gt;

&lt;h3 id=&quot;flexibility&quot;&gt;Flexibility&lt;/h3&gt;

&lt;p&gt;As a teacher, my obligations were tied strictly to the school timetable. Holidays had to be taken within a set time – always the most expensive time for travel, I might add. The day absolutely had to begin on the bell. The day absolutely could not end until the kids were gone, the last yard duties were staffed and whatever meetings scheduled had happened.&lt;/p&gt;

&lt;p&gt;It’s extremely inconvenient to need to go to the toilet during class time. Don’t underestimate that one.&lt;/p&gt;

&lt;p&gt;Obviously, remote work is a complete pipe-dream: the kids are all in a room, and you are also required to be in that room. Technology has come a long way, but not long enough for remote teaching to be the norm yet.&lt;/p&gt;

&lt;p&gt;Part-time work is very hard to set up, because you get locked in to the requirements of whichever classes you end up with; part-time days off are extremely rare, since you likely always have at least one scheduled class to teach every day.&lt;/p&gt;

&lt;p&gt;As a parent to a 2-year-old and a 5-year-old, that degree of rigidity makes teaching an almost impossible endeavour if you intend to work full time and have a partner that also teaches full time.&lt;/p&gt;

&lt;p&gt;As a web developer, I can work pretty much whatever hours I please. It suits me to arrive early and leave early so I can handle the kids’ child-care drop-offs and pick-ups. If a kid is sick, I can work from home without burning up my leave. If I’m sick enough that I could infect my colleagues, but well enough to work, again, I can stay home and not feel guilty about making everyone else sick.&lt;/p&gt;

&lt;p&gt;I also needed to go part-time to better look after the kids,and that was possible, too. Currently, I’m working 2 days, and at home parenting 3 days a week. That particular set-up would be basically impossible as a teacher.&lt;/p&gt;

&lt;h3 id=&quot;fun&quot;&gt;Fun&lt;/h3&gt;

&lt;p&gt;There were long, arduous parts of my teaching workload that I did not enjoy. There is nothing comparable in my web development job. Sometimes getting stuck on a bug can be frustrating, but I am yet to find it boring. I can honestly say I can spend 40 hours a week coding and still look forward to another 40 hours when the next Monday rolls around. It’s probably not for everyone, but it suits my temperament to a tee.&lt;/p&gt;

&lt;h3 id=&quot;finding-your-people&quot;&gt;Finding your people&lt;/h3&gt;

&lt;p&gt;Maybe your new workplace will have a much higher percentage of nerds, and just maybe that is wonderful!&lt;/p&gt;

&lt;h2 id=&quot;so-is-it-worth-it&quot;&gt;So is it worth it?&lt;/h2&gt;

&lt;p&gt;Only you can decide. If you do decide to make the switch to a programming career after any amount of time doing something else, read the next week’s post from me which will offer more practical advice about hitting the ground running as an early career developer.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/career-switcher&amp;amp;text=Switching Careers and Becoming a Programmer&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Setting Cannonical Urls for Your Poole / Jekyll Blog</title>
   <link href="https://blog.jacksonbates.com/canonical-url"/>
   <updated>2019-06-14T13:33:00+10:00</updated>
   <id>https://blog.jacksonbates.com/setting-canonical-urls-with-poole-jekyll</id>
   <content type="html">&lt;h2 id=&quot;setting-a-canonical-url-for-your-poole-or-jekyll-blog&quot;&gt;Setting a Canonical Url for your Poole or Jekyll Blog&lt;/h2&gt;

&lt;p&gt;I have started migrating some of my old posts over from Medium and the recent freeCodeCamp migrations from Medium means that some version of some of my posts now live in 3 places at the moment.&lt;/p&gt;

&lt;p&gt;While I don’t especially care for SEO on this blog, and have kept bells and whistles and sharing widgets off the blog, I still though it might be worth trying to set up canonical urls since working with static site generated blogs throws up interesting challenges like this occassionally.&lt;/p&gt;

&lt;p&gt;It turns out that while Poole (the Jekyll ‘butler’ I use for this blog) doesn’t support canonical urls straight out of the box, it is remarkably easy to set up by editing the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;head.html&lt;/code&gt; fragment.&lt;/p&gt;

&lt;p&gt;I just wrote the following in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_includes/head.html&lt;/code&gt;, and it works seamlessly for all posts:&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;link&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;rel=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;canonical&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;https://blog.jacksonbates.com/canonical-url&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now to figure out how to update the canonical urls on Medium and freeCodeCamp News!&lt;/p&gt;

&lt;h2 id=&quot;update&quot;&gt;Update&lt;/h2&gt;

&lt;p&gt;Actually, I’ll delete them from Medium! Discoverability has tanked on Medium anyway since the paywall. Better to just jump ship all-together, I think.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/canonical-url&amp;amp;text=Setting Cannonical Urls for Your Poole / Jekyll Blog&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>setState wasn't working - annoying bug postmortem!</title>
   <link href="https://blog.jacksonbates.com/setState-fail"/>
   <updated>2019-05-07T13:33:00+10:00</updated>
   <id>https://blog.jacksonbates.com/setState-wasnt-working</id>
   <content type="html">&lt;p&gt;I encountered a very annoying bug in a piece of basic React code yesterday, and it took me and another experienced developer far too long to spot the problem.&lt;/p&gt;

&lt;p&gt;Here is the screenshot I posted to Slack after spending no small amount of time already trying to figure it out:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/setState-fail.png&quot; alt=&quot;setStateFail&quot; title=&quot;setState bug screenshot&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We have an annoying issue in our product where an informative screen element truncates long messages, so we wanted a simple solution of rendering a modal with the full message when the truncated version was clicked. VERY EASY to do with React, right?&lt;/p&gt;

&lt;p&gt;So the code above purports to do that. Click on the truncated message element: modal pops up; click on the ‘Ok’ button on the modal: modal is dismissed.&lt;/p&gt;

&lt;p&gt;Here is simple reproduction of the bug on CodePen:&lt;/p&gt;

&lt;p class=&quot;codepen&quot; data-height=&quot;229&quot; data-theme-id=&quot;0&quot; data-default-tab=&quot;result&quot; data-user=&quot;Malgalin&quot; data-slug-hash=&quot;PvwRmv&quot; style=&quot;height: 229px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;&quot; data-pen-title=&quot;Bug Demo 7-5-19&quot;&gt;
  &lt;span&gt;See the Pen &lt;a href=&quot;https://codepen.io/Malgalin/pen/PvwRmv/&quot;&gt;
  Bug Demo 7-5-19&lt;/a&gt; by Jackson Bates (&lt;a href=&quot;https://codepen.io/Malgalin&quot;&gt;@Malgalin&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.&lt;/span&gt;
&lt;/p&gt;

&lt;p&gt;The only real modifications I’ve made to the above app are the conditionally rendered div in place of the modal, and the click counter that proves that the close handler method works and can set the state. You can click the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;babel&lt;/code&gt; tab above to see the code, and the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;result&lt;/code&gt; tab to toggle the app view away.&lt;/p&gt;

&lt;h2 id=&quot;diagnosing-the-problem&quot;&gt;Diagnosing the problem&lt;/h2&gt;

&lt;p&gt;If you Google any version of ‘setState is not working’ you will encounter a gazillion StackOverflow answers and blog posts that will tell you that the issue is that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setState&lt;/code&gt; is asynchronous.&lt;/p&gt;

&lt;p&gt;Great, who cares? That’s not the problem here, right? Because we are calling an identically formatted setState function to dismiss the modal as the one that made it appear.&lt;/p&gt;

&lt;p&gt;We added console.logging within the setState callback to ensure that the setState code was being reached. It was. Then we added a click counter like the one in the reproduction to prove that we could update state with that exact method. We could.&lt;/p&gt;

&lt;p&gt;Eventually we determined that there must be a race condition somewhere, somehow. Even though we were certain nothing else was trying to set the state, something must have been.&lt;/p&gt;

&lt;p&gt;Look again at the code.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;Container&amp;gt;&lt;/code&gt; has the initial onClick listener.
    &lt;ul&gt;
      &lt;li&gt;Clicking the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;Container&amp;gt;&lt;/code&gt; triggers setState.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;InformationDialog&amp;gt;&lt;/code&gt; has its own onClick listener.
    &lt;ul&gt;
      &lt;li&gt;Clicking the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;InformationDialog&amp;gt;&lt;/code&gt; triggers setState…&lt;/li&gt;
      &lt;li&gt;but also, something else is triggering setState again with a competing value.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Have you spotted it already?&lt;/p&gt;

&lt;p class=&quot;codepen&quot; data-height=&quot;224&quot; data-theme-id=&quot;0&quot; data-default-tab=&quot;result&quot; data-user=&quot;Malgalin&quot; data-slug-hash=&quot;pmvLxR&quot; style=&quot;height: 224px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;&quot; data-pen-title=&quot;Bug-Fix Demo 7-5-19&quot;&gt;
  &lt;span&gt;See the Pen &lt;a href=&quot;https://codepen.io/Malgalin/pen/pmvLxR/&quot;&gt;
  Bug-Fix Demo 7-5-19&lt;/a&gt; by Jackson Bates (&lt;a href=&quot;https://codepen.io/Malgalin&quot;&gt;@Malgalin&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.&lt;/span&gt;
&lt;/p&gt;

&lt;h2 id=&quot;the-problem-is-that-setstate-is-asynchronous&quot;&gt;The problem is that setState is asynchronous&lt;/h2&gt;

&lt;p&gt;So, setState is asynchronous…AND the modal was nested in a greedy container.&lt;/p&gt;

&lt;p&gt;When clicking the modal, you are also clicking the container again, introducing the race condition.&lt;/p&gt;

&lt;p&gt;The solution is to separate the onClick listeners appropriately so you are only clicking one thing at a time.&lt;/p&gt;

&lt;p&gt;Fun times were had by all. What did we learn?&lt;/p&gt;

&lt;p&gt;Not sure.&lt;/p&gt;

&lt;p&gt;Be better, I guess.&lt;/p&gt;

&lt;script async=&quot;&quot; src=&quot;https://static.codepen.io/assets/embed/ei.js&quot;&gt;&lt;/script&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/setState-fail&amp;amp;text=setState wasn't working - annoying bug postmortem!&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>2018 in Review</title>
   <link href="https://blog.jacksonbates.com/2018-review"/>
   <updated>2018-12-27T14:33:00+11:00</updated>
   <id>https://blog.jacksonbates.com/2018-review</id>
   <content type="html">&lt;p&gt;I had three simple goals for the last year:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Become a better designer&lt;/li&gt;
  &lt;li&gt;Get a job as a web developer&lt;/li&gt;
  &lt;li&gt;Excerise regularly&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;I don’t believe in SMART goals and all that corporate accountability nonsense…so did I meet those goals?&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Marginally&lt;/li&gt;
  &lt;li&gt;YES!&lt;/li&gt;
  &lt;li&gt;Not really&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;design&quot;&gt;Design&lt;/h2&gt;

&lt;p&gt;I became a &lt;em&gt;marginally&lt;/em&gt; better designer, mostly by leaning on frameworks such as Material Design and spending a fair bit of time reasoning about the decisions they default to. I also spent a little time at the beginning of the year reading &lt;a href=&quot;https://hackdesign.com&quot;&gt;Hack Design&lt;/a&gt;, but to be honest, my commitment to that sorta fell away in early January!&lt;/p&gt;

&lt;h2 id=&quot;dev-job&quot;&gt;Dev job&lt;/h2&gt;

&lt;p&gt;This one was cool.&lt;/p&gt;

&lt;p&gt;I started by putting a resume out on Twitter for feedback. I got some, and it was pretty useful. I also got a couple of connections out of it, including one recruiter that met with me in the city to discuss my prospects and interests. That ended up going nowhere, but he did suggest that I go to to the MelbJS meetup.&lt;/p&gt;

&lt;p&gt;I missed the meetup, but went the following month. In the interim I applied for a bunch of jobs, and scored a couple of interviews.&lt;/p&gt;

&lt;p&gt;The first interview was with a company whose entire product is a couple of webforms that get embedded on their client’s sites with some backend processing. My job would have been to style the forms to match the client aesthetic. It was basically just a CSS job, and it paid penuts. I didn’t get it.&lt;/p&gt;

&lt;p&gt;The second interview was for a company that didn’t traditionally do web development at all, but they were expanding to providing web services in their industry. Seemed like a cool job, but they wanted someone with more experience.&lt;/p&gt;

&lt;p&gt;Then I went to the meetup. I met my current boss there :)&lt;/p&gt;

&lt;p&gt;The job has been pretty cool, and ended up being way more complex and interesting than either of the jobs I didn’t get.&lt;/p&gt;

&lt;h2 id=&quot;excercise-regularly&quot;&gt;Excercise Regularly&lt;/h2&gt;

&lt;p&gt;Yeah, nah…I think I went for a run 4 times this year. I did get moderately good at PLUNKBAT mobile though.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/2018-review&amp;amp;text=2018 in Review&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>A simple color generator</title>
   <link href="https://blog.jacksonbates.com/color-generator"/>
   <updated>2018-12-13T14:33:00+11:00</updated>
   <id>https://blog.jacksonbates.com/a-simple-color-generator</id>
   <content type="html">&lt;p&gt;I wanted a quick and easy way to generate semi-random, but consistent colours.&lt;/p&gt;

&lt;p&gt;I figured since I could get consistent hex values off of a string using an md5 hash, slicing the last 6 characters from a hash would generate such a colour code.&lt;/p&gt;

&lt;p&gt;Here’s a little pen that demos the idea:&lt;/p&gt;

&lt;p data-height=&quot;410&quot; data-theme-id=&quot;0&quot; data-slug-hash=&quot;roOvpN&quot; data-default-tab=&quot;result&quot; data-user=&quot;Malgalin&quot; data-pen-title=&quot;Color test thing&quot; class=&quot;codepen&quot;&gt;See the Pen &lt;a href=&quot;https://codepen.io/Malgalin/pen/roOvpN/&quot;&gt;Color test thing&lt;/a&gt; by Jackson Bates (&lt;a href=&quot;https://codepen.io/Malgalin&quot;&gt;@Malgalin&lt;/a&gt;) on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.&lt;/p&gt;
&lt;script src=&quot;https://static.codepen.io/assets/embed/ei.js&quot;&gt;&lt;/script&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/color-generator&amp;amp;text=A simple color generator&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Overcoming a Gitlab Pipeline Failure</title>
   <link href="https://blog.jacksonbates.com/gitlab-pipeline-failure"/>
   <updated>2018-11-19T14:33:00+11:00</updated>
   <id>https://blog.jacksonbates.com/gitlab-pipeline-issue</id>
   <content type="html">&lt;p&gt;I ran into a weird issue during a Gitlab Merge Request today.&lt;/p&gt;

&lt;p&gt;After submitting my Merge Request, the maintainer handling the merge had a warning:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Could not retreive pipeline status.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Gitlab directs you to some documentation that gives two possible causes, but neither of these were relevant in our case.&lt;/p&gt;

&lt;h2 id=&quot;what-was-happening&quot;&gt;What was happening?&lt;/h2&gt;

&lt;p&gt;We had originally limited our CI pipeline to only run on the master branch, but due to a small error in an earlier update to our .gitlab-ci.yml, we had inadvertently opened these up to all commits on all branches.&lt;/p&gt;

&lt;p&gt;In fixing this on the branch that was being merged, Gitlab was now in a state where it was previously getting CI status updates, but we had now told it to stop doing CI on that branch.&lt;/p&gt;

&lt;p&gt;Gitlab doesn’t like this and assumes no longer being able to test the branch is a bug, not a feature you intended.&lt;/p&gt;

&lt;h2 id=&quot;fix&quot;&gt;Fix&lt;/h2&gt;

&lt;p&gt;Once we determined this, the fix was easy: create a new branch from the old one and push that gitlab for the PR instead.&lt;/p&gt;

&lt;p&gt;This means CI has never run on the branch, and it can be merged without complaints.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/gitlab-pipeline-failure&amp;amp;text=Overcoming a Gitlab Pipeline Failure&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Learn Github Pull Requests By Playing This Game</title>
   <link href="https://blog.jacksonbates.com/learn-github-playing-nomic"/>
   <updated>2018-11-14T14:33:00+11:00</updated>
   <id>https://blog.jacksonbates.com/learn-github-playing-nomic</id>
   <content type="html">&lt;p&gt;As a member of the freeCodeCamp community, I’m always looking for new ways to encourage early stage developers and help them get to grips with the many challenges facing them in their nascent careers.&lt;/p&gt;

&lt;p&gt;One such challenge is overcoming the first Pull Request hurdle so they can begin to contribute to open source projects.&lt;/p&gt;

&lt;p&gt;In the past I have maintained small hobby projects and encouraged new inexperienced developers to join in with their pull requests, but this can be difficult because it still requires domain knowledge in specific languages or frameworks.&lt;/p&gt;

&lt;h2 id=&quot;enter-nomic&quot;&gt;Enter Nomic&lt;/h2&gt;
&lt;p&gt;Nomic is a game in which the main move, initially, is to propose rules that govern the game. Essentially, the game evolves as more rules are added, amended or revoked.&lt;/p&gt;

&lt;p&gt;Nomic can be played in person as a regular table-top game, but with a little tweaking it can also be an excellent game to play asynchronously, online.&lt;/p&gt;

&lt;p&gt;As an online game, it requires a platform that can handle collaboration, frequently changing files, and a system for tracking votes and approving changes. In all of these aspects, Github excels!&lt;/p&gt;

&lt;h2 id=&quot;how-to-play-nomic-via-github&quot;&gt;How to Play Nomic via Github&lt;/h2&gt;
&lt;p&gt;The game requires a little bit of set up if you intend to invite people to play it remotely. Some initial rules that govern the early stages of the game make sense, but keep the number of these low, as you want to let the game evolve naturally. In my version, we track the rules in a &lt;a href=&quot;https://github.com/JacksonBates/fcc-git-nomic/blob/master/RULES.md&quot;&gt;RULES.md&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The most crucial part, given the fact it is a Github repo inviting first time contributors, is the CONTRIBUTING.md.&lt;/p&gt;

&lt;p&gt;This document should assume your players have not completed a pull request before, and walk them through the entire process.&lt;/p&gt;

&lt;p&gt;If this sounds like too much work, you can steal mine (and please submit your own PRs to it, if you feel it can be improved): &lt;a href=&quot;https://github.com/JacksonBates/fcc-git-nomic/blob/master/CONTRIBUTING.md&quot;&gt;CONTRIBUTING.md&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;From there, encourage your players to submit their proposed rules via pull requests, and decide as a group how you want to communicate your votes (comments, reactions etc).&lt;/p&gt;

&lt;p&gt;As Nomic games develop, various scoring mechanisms, currencies, resources and other variables can become relevant. Github provides a wiki feature that is perfect for recording these. See the example here: &lt;a href=&quot;https://github.com/JacksonBates/fcc-git-nomic/wiki&quot;&gt;Wiki&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;other-considerations&quot;&gt;Other Considerations&lt;/h2&gt;
&lt;p&gt;One amendment I made to the original concept of Nomic was to introduce the idea of Universal Constants.&lt;/p&gt;

&lt;p&gt;Normally in Nomic every rule can be changed by vote.&lt;/p&gt;

&lt;p&gt;Given the potential for anonymous trolls to infiltrate otherwise harmless games online, I felt it necessary to not only include a code of conduct, but to also make it entirely immutable. Setting a code of conduct as a Universal Constant in your online games of Nomic can increase the potential to find excellent, like-minded players and reduce potential abuse vectors inherent in online platforms.&lt;/p&gt;

&lt;h2 id=&quot;come-join-us&quot;&gt;Come Join Us!&lt;/h2&gt;
&lt;p&gt;I would love to have more early stage developers play the game with us, since it offers an extremely low friction opportunity to open pull requests and become familiar with the workflows that will become the bread and butter of your careers.&lt;/p&gt;

&lt;p&gt;We also welcome experienced open source contributors that just like the sound of playing Nomic via Github. It’s a lot of fun!&lt;/p&gt;

&lt;p&gt;Visit https://github.com/JacksonBates/fcc-git-nomic to vote on the current rule proposals and start proposing rules of your own! The game is still young, so you have a real opportunity to influence the path it will take.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/learn-github-playing-nomic&amp;amp;text=Learn Github Pull Requests By Playing This Game&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Some Thoughts on Design</title>
   <link href="https://blog.jacksonbates.com/thoughts-on-design"/>
   <updated>2017-12-24T14:33:00+11:00</updated>
   <id>https://blog.jacksonbates.com/some-thoughts-on-design</id>
   <content type="html">&lt;p&gt;In order to create better websites and web apps I intend to really put some time into improving my design skills and knowledge this year.&lt;/p&gt;

&lt;p&gt;To that end, I am reading &lt;a href=&quot;https://www.amazon.com/CSS-Definitive-Guide-Visual-Presentation/dp/1449393195&quot;&gt;CSS: The Definitive Guide: Visual Presentation for the Web&lt;/a&gt;, which is excellent so far, and working through &lt;a href=&quot;https://hackdesign.org&quot;&gt;Hack Design&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The reading for Hack Design’s &lt;a href=&quot;https://hackdesign.org/lessons/1&quot;&gt;first lesson&lt;/a&gt; pointed me to one tip that really stood out and has started to affect me quite profoundly already.&lt;/p&gt;

&lt;p&gt;One of the reading list articles for the lesson, &lt;a href=&quot;https://web.archive.org/web/20160806215332/http://somerandomdude.com/2012/01/10/transition-from-development-to-design/&quot;&gt;‘Making the transition from developer to designer’&lt;/a&gt;, offers the tip:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Design everything you do.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;This advice comes with the suggestion to view all decisions and actions through the lens of design choices. For example, how you hold yourself in conversation should be ‘designed’ to add to the message you seek to communicate. Ultimately, all choices should be intentional and purposeful.&lt;/p&gt;

&lt;p&gt;This lead me to realise that I have been deferring to my wife’s decision making over the last few years. This is problematic partly due to the impact this has on the balance of emotional labour in our relationship, and also because it has no doubt blunted my ability to make intentional decisions, and therefore practice ‘designing everything.’&lt;/p&gt;

&lt;p&gt;I had been quite dismissive of some of what I had deemed to be superficial aspects of design in the past, including to do with fashion and home decor. As I talked about this more and more with my wife today, though, it began to dawn on me that what I had previously written off as just, for example, fashion, was in fact much more:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Fashion is communication, psychology, and even community.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;My initial readings for Hack Design have not only given me a lot to think about in terms of design, but the practice of making intentional decisions about everything I have done today has forced me to be much more mindful, in ways that years of being encouraged to be mindful never seemed to actually achieve.&lt;/p&gt;

&lt;p&gt;As a result, rather strangely, I have been in a much better mood than usual today, and have felt tangible improvements in my mental health.&lt;/p&gt;

&lt;p&gt;Who knew a simple introduction to design thinking could have such an effect?&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/thoughts-on-design&amp;amp;text=Some Thoughts on Design&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>How to Help Beginning Coders</title>
   <link href="https://blog.jacksonbates.com/help-beginners"/>
   <updated>2017-11-22T14:33:00+11:00</updated>
   <id>https://blog.jacksonbates.com/how-to-help-beginning-coders</id>
   <content type="html">&lt;p&gt;I am one of those teachers that has been working on transitioning out of the classroom in order to pursue a coding career. As I learn to code, and help others in their coding journey on the &lt;a href=&quot;https://forum.freecodecamp.org&quot;&gt;Free Code Camp forum&lt;/a&gt;, I see lots of teaching take place.&lt;/p&gt;

&lt;p&gt;Since I know a lot more about teaching than I do about coding, here is a guide to helping beginning coders, drawing upon some of the best practices we currently know about how people learn.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn-images-1.medium.com/max/2000/1*As74O0E4ea9OG3oiA58rDQ.png&quot; alt=&quot;An image mashing up the old 'This is your brain on drugs campaign. 3 panels. Panel 1: Text: This is your brain. Image: A whole egg. Panel 2: Text: This is code. Image: A frying pan. Panel 3: Text: This is your brain on code. Image: An egg frying in a pan.&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;learning-theory&quot;&gt;Learning theory&lt;/h2&gt;

&lt;p&gt;There are a number of learning theories you could draw from when considering how best to help others, but the one I’ll be relying upon most is &lt;strong&gt;Social-Constructivism&lt;/strong&gt;. (An alternate, arguably opposite, theory is &lt;strong&gt;Social Learning Theory&lt;/strong&gt;.)&lt;/p&gt;

&lt;p&gt;The grandfather of this theory is Lev Vygotsky, who suggested that people learn best when interacting with others. He also suggested that people are limited in what they can learn &lt;em&gt;right now&lt;/em&gt; by their &lt;strong&gt;Zone of Proximal Development (ZPD)&lt;/strong&gt;. The ZPD sounds like an intimidating concept, but it really just describes the notion that we are best able to learn the things just beyond our current understanding, with the help of others that have already learned those things.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn-images-1.medium.com/max/2000/0*FHG904rpH-UK_dW5.jpg&quot; alt=&quot;A staircase&quot; /&gt;&lt;/p&gt;

&lt;p&gt;If you imagine a tall staircase, the ZPD encourages you to climb onto the step just ahead of you, not to attempt leaping up five steps in a single bound. That’s how you twist your cognitive ankles.&lt;/p&gt;

&lt;h2 id=&quot;lessons-from-social-constructivism&quot;&gt;Lessons from Social-Constructivism&lt;/h2&gt;

&lt;p&gt;What really helps people learn is this:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Collaboration&lt;/li&gt;
  &lt;li&gt;Discussion&lt;/li&gt;
  &lt;li&gt;Scaffolding&lt;/li&gt;
  &lt;li&gt;Modelling&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There is also, very rarely, a case for:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Just giving them the answer / solving a problem for them…&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;(But more on that later…)&lt;/p&gt;

&lt;h2 id=&quot;context-is-key&quot;&gt;Context is key&lt;/h2&gt;

&lt;p&gt;When helping a beginner coder, especially online, it can be difficult to know what their ZPD looks like. For this reason it is important to ascertain the competence and experience level of the person you are helping.&lt;/p&gt;

&lt;p&gt;Often, learners don’t know how to frame their question to reveal their current understanding, so it can help if you begin the interaction by asking clarifying questions. This will help you pitch your help at the appropriate level.&lt;/p&gt;

&lt;p&gt;It is tempting, and sometimes useful, to simply direct a learner to the appropriate MDN documentation. With beginners, that is often not the best course of action, though.&lt;/p&gt;

&lt;h2 id=&quot;collaboration&quot;&gt;Collaboration&lt;/h2&gt;

&lt;p&gt;The best way to help someone learn is to both work on something meaningfully together. This idea is the basis of all trade apprenticeships and modern internships.&lt;/p&gt;

&lt;p&gt;Working side by side, preferably pair programming, helps build a good relationship and trust — essential ingredients in mentor-mentee relationships.&lt;/p&gt;

&lt;h2 id=&quot;discussion&quot;&gt;Discussion&lt;/h2&gt;

&lt;p&gt;It’s not always possible, or desirable, to collaborate. The really important part of collaboration, aside from partnering on meaningful work, is discussion. Thankfully that can be had at a much lower cost than full-on collaboration.&lt;/p&gt;

&lt;p&gt;As mentioned above, asking questions is crucial to help the teacher understand what the learner already knows. But questions also serve the purpose of helping learners make connections and realise things they didn’t know they already knew. Socratic questions can help learners question their assumptions and force them to reevaluate them, which are crucial coding skills.&lt;/p&gt;

&lt;h2 id=&quot;scaffolding&quot;&gt;Scaffolding&lt;/h2&gt;

&lt;p&gt;A common teaching technique employed in schools is scaffolding. This process boils down to the teacher providing less and less structure and support as the learner becomes more capable of proceeding unassisted.&lt;/p&gt;

&lt;p&gt;You can leverage this technique when helping beginners when you understand their ZPD. It is important to understand whether someone just needs a nudge in the right direction — &lt;em&gt;Hey, you may want to look up how AJAX works in jQuery&lt;/em&gt; — or whether they need something a little more substantial — Hey, you can use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$getJSON(‘http://….’, function(data){…})&lt;/code&gt; to do that…have you use a callback function before?&lt;/p&gt;

&lt;h2 id=&quot;modelling&quot;&gt;Modelling&lt;/h2&gt;

&lt;p&gt;Related to scaffolding, modelling describes the process of providing similar answers or solutions, but with the particulars removed so the learner can apply the principle in a different context.&lt;/p&gt;

&lt;p&gt;By way of simple example, a learner might be stuck reversing a string using string concatenation. Rather than telling them how to do that, you might instead show them a similar function, for example, one that iterates over the items in an array and does something to them, or one that replaces each character in a string, one at a time. You can then ask them to explain what it does and how that might apply to their current problem.&lt;/p&gt;

&lt;h2 id=&quot;helping-the-deer-in-headlights&quot;&gt;Helping The Deer in Headlights&lt;/h2&gt;

&lt;p&gt;Sometimes beginners can get so panicked and overwhelmed that they just freeze up. I don’t advocate ‘just giving the answer’ often, but very occasionally I will.&lt;/p&gt;

&lt;p&gt;If it is particularly important to you that the person goes on to greater success in the future, and the problem they are currently facing could be enough for them to swear off coding forever, it could be more important to win the battle for them, so the war is not lost altogether. It’s a fine line, though — you do not want to encourage learned helplessness.&lt;/p&gt;

&lt;p&gt;It can be frustrating when a learner simply isn’t getting something, but that is not usually the time to just cave in and tell them the answer.&lt;/p&gt;

&lt;p&gt;Some people, while initially trying to help, can slip into macho talk like, &lt;em&gt;‘Well, no body here is gonna hold your hand — suck it up, princess!’&lt;/em&gt; Obviously, this doesn’t really help people, especially in beginner oriented communities. No-one leaves that scenario with the dawning realisation that they are indeed a princess that needs to just read the fine manual, so the only purpose it serves is to further alienate struggling learners and disenfranchise from the opportunity to learn more.&lt;/p&gt;

&lt;p&gt;One of the prevailing philosophies beginners encounter on the Free Code Camp forum, is that no question is too stupid, and it doesn’t matter if the question has been asked before. We aim to have a community completely open to newbies — and let’s face it, when it comes to coding, we’re all newbies in something.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/help-beginners&amp;amp;text=How to Help Beginning Coders&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Why and How I Delete My Tweets After 10 Days</title>
   <link href="https://blog.jacksonbates.com/ephemeral-twitter"/>
   <updated>2017-07-26T13:33:00+10:00</updated>
   <id>https://blog.jacksonbates.com/why-i-delete-my-tweets</id>
   <content type="html">&lt;p&gt;&lt;em&gt;I thought I was releasing my flighty words into the world with every tweet, but in reality, Twitter was just a bird cage rapidly filling with every inane utterance I flung into it.&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;why-do-i-do-it&quot;&gt;Why do I do it?&lt;/h2&gt;

&lt;p&gt;It started when a previous Medium post I published with freeCodeCamp got some attention and plenty of likes and shares.&lt;/p&gt;

&lt;p&gt;After the initial buzz died down, I noticed that on a weekly basis there was one user that kept sharing a tweet about it — same format each time — and only a handful of other tweets in his timeline. There was some mention in his bio about ‘ephemeral Twitter’ and I realised he was deleting old tweets automatically, and must also have a bot re-posting previous tweets if there was no new content to replace the old.&lt;/p&gt;

&lt;p&gt;Why would anyone do this? Well, he wasn’t alone, and once I was introduced to the idea, it kept popping up as a compelling solution to some of the things that make me uneasy about Twitter.&lt;/p&gt;

&lt;p&gt;The sometimes irreverent, usually argumentative, and often silly way in which I currently engage on Twitter doesn’t really serve any long-term goals of mine. The idea that all my nonsense sticks around for any of my students, their parents, or other interested parties to delve into was a little troubling.&lt;/p&gt;

&lt;p&gt;My primary reason for regularly purging the historical record of my tweets, though, is that I am regularly finessing my beliefs and opinions — sometimes changing my mind about issues completely.&lt;/p&gt;

&lt;p&gt;‘280 characters’ does not really do finesse, though.&lt;/p&gt;

&lt;p&gt;Those old tweets just sit there reminding me of beliefs I held long ago, and usually feel like I’ve progressed away from. Keeping them around serves no purpose.&lt;/p&gt;

&lt;p&gt;I like the idea that Twitter is conversational and current. I feel like Twitter is supposed to be ephemeral, but in reality it is not.&lt;/p&gt;

&lt;p&gt;So, I wrote a node bot that deletes all tweets and unlikes any favourites that are more than 10 days old. I scheduled this to run on a free Heroku instance once a day so it automates the process without me having to think about it, or rent a server for this tiny task.&lt;/p&gt;

&lt;h2 id=&quot;how-do-i-do-it&quot;&gt;How do I do it?&lt;/h2&gt;

&lt;p&gt;The original version of this post had a detailed line-by-line explanation of how to write the bot yourself. These days I feel like that makes for an unecessarily long post, when all you really want to see is the code. To that end, here is the code on Github: &lt;a href=&quot;https://github.com/jacksonbates/tweet-delete-bot&quot;&gt;Tweet Delete Bot&lt;/a&gt;. The README.md contains instructions on setting it up yourself.&lt;/p&gt;

&lt;h2 id=&quot;set-it-and-forget-it&quot;&gt;Set it and forget it!&lt;/h2&gt;

&lt;p&gt;&lt;em&gt;You’ve gotta dance like there’s nobody watching,&lt;/em&gt;
&lt;em&gt;Love like you’ll never be hurt,&lt;/em&gt;
&lt;em&gt;Sing like there’s nobody listening,&lt;/em&gt;
&lt;strong&gt;&lt;em&gt;And tweet it like you’re gonna delete it&lt;/em&gt;&lt;/strong&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/ephemeral-twitter&amp;amp;text=Why and How I Delete My Tweets After 10 Days&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;…and then delete it, obviously!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>What I learned writing 6 functions that all do the same thing</title>
   <link href="https://blog.jacksonbates.com/six-functions"/>
   <updated>2016-10-30T14:33:00+11:00</updated>
   <id>https://blog.jacksonbates.com/what-i-learned-writing-six-functions-that-do-the-same-thing</id>
   <content type="html">&lt;p&gt;A couple weeks ago, a camper started an unofficial algorithm competition on Free Code Camp’s Forum.&lt;/p&gt;

&lt;p&gt;The challenge seemed simple enough: &lt;em&gt;return the sum of all multiples of 3 or 5 that are below a number N, where N is an input parameter to the function&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;But instead of just finding any solution, the competition required you to focus on efficiency. It encouraged you to write your own tests, and to benchmark the performance of your solutions.&lt;/p&gt;

&lt;p&gt;This is a breakdown of every function I tried and tested, including my tests and benchmark scripts. At the end, I’ll show the function that blew all of my own out of the water, and taught me a valuable lesson.&lt;/p&gt;

&lt;h2 id=&quot;function-1-array-push-increment&quot;&gt;Function #1: Array, push, increment&lt;/h2&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;arrayPushAndIncrement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;arrayPushAndIncrement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// this is necessary for testing&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For problems like this, my brain defaults to: build an array, then do something to that array.&lt;/p&gt;

&lt;p&gt;This function creates an array and pushes any numbers that meet our condition (divisible by 3 or 5) into it. It then loops through that array, adding all the values together.&lt;/p&gt;

&lt;h2 id=&quot;setting-up-testing&quot;&gt;Setting up testing&lt;/h2&gt;

&lt;p&gt;Here are the automated tests for this function, which use Mocha and Chai, running on NodeJS.&lt;/p&gt;

&lt;p&gt;If you want more information about installing Mocha and Chai, I’ve written a detailed guide here: &lt;a href=&quot;/blog/mocha-chai&quot;&gt;Setting up a simple test suite&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I wrote a simple testing script using the values P1xt provided. Notice that in the script below, the function is included as a module:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// testMult.js&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;should&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;chai&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;should&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;arrayPushAndIncrement&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;./arrayPushAndIncrement&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;arrayPushAndIncrement&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;should return 23 when passed 10&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;arrayPushAndIncrement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;should&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;should return 78 when passed 20&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;arrayPushAndIncrement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;should&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;78&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;should return 2318 when passed 100&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;arrayPushAndIncrement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;should&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2318&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;should return 23331668 when passed 10000&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;arrayPushAndIncrement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;should&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;23331668&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;should return 486804150 when passed 45678&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;arrayPushAndIncrement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;45678&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;should&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;486804150&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When I ran the test using mocha testMult.js it returned the following:&lt;/p&gt;

&lt;p&gt;For all future functions in this article, assume they passed all tests. For your own code, add tests for each new function you try.&lt;/p&gt;

&lt;h2 id=&quot;function-2-array-push-reduce&quot;&gt;Function #2: Array, push, reduce&lt;/h2&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;arrayPushAndReduce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;arrayPushAndReduce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So this function uses a similar approach to my previous one, but instead of using a for loop to construct the final sum, it uses the fancier reduce method.&lt;/p&gt;

&lt;h2 id=&quot;setting-up-performance-benchmark-testing&quot;&gt;Setting up performance benchmark testing&lt;/h2&gt;

&lt;p&gt;Now that we have two functions, we can compare their efficiency.&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// performance.js&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Benchmark&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;benchmark&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;suite&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Benchmark&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Suite&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;arrayPushAndIncrement&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;./arrayPushAndIncrement&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;arrayPushAndReduce&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;./arrayPushAndReduce&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// add tests&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;suite&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;arrayPushAndIncrement&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;arrayPushAndIncrement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;45678&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;arrayPushAndReduce&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;arrayPushAndReduce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;45678&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// add listeners&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;cycle&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;complete&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Fastest is &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;fastest&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// run async&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;async&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you run this with node performance.js you’ll see the following terminal output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;arrayPushAndIncrement x 270 ops/sec ±1.18% (81 runs sampled)
arrayPushAndReduce x 1,524 ops/sec ±0.79% (89 runs sampled)
Fastest is arrayPushAndReduce
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So using the reduce method gave us a function that was &lt;em&gt;5 times faster&lt;/em&gt;!&lt;/p&gt;

&lt;p&gt;If that isn’t encouraging enough to continue with more functions and testing, I don’t know what is!&lt;/p&gt;

&lt;h2 id=&quot;function3-while-array-reduce&quot;&gt;Function#3: While, Array, Reduce&lt;/h2&gt;

&lt;p&gt;Now since I always reach for the trusty for loop, I figured I would test a while loop alternative:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;whileLoopArrayReduce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;prev&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;whileLoopArrayReduce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And the result? A tiny bit slower:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;whileLoopArrayReduce x 1,504 ops/sec ±0.65% (88 runs sampled)
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;function4-while-sum-no-arrays&quot;&gt;Function#4: While, sum, no arrays&lt;/h2&gt;

&lt;p&gt;So, finding that the type of loop didn’t make a huge difference, I wondered what would happen if I used a method that avoided arrays altogether:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;whileSum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;whileSum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As soon as I started thinking down this track, it made me realize how wrong I was for always reaching for arrays first…&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;whileSum x 7,311 ops/sec ±1.26% (91 runs sampled)
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Another massive improvement: nearly &lt;em&gt;5 times faster again&lt;/em&gt;, and &lt;strong&gt;27 times&lt;/strong&gt; faster than my original function!&lt;/p&gt;

&lt;h2 id=&quot;function5-for-sum&quot;&gt;Function#5: For, sum&lt;/h2&gt;

&lt;p&gt;Of course, we already know that a for loop should be a little faster:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;forSum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This uses the ternary operator to do the condition checking, but my testing showed that a non-ternary version of this is the same, performance-wise.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;forSum x 8,256 ops/sec ±0.24% (91 runs sampled)
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, a little faster again.&lt;/p&gt;

&lt;p&gt;My final function ended up being &lt;strong&gt;28 times&lt;/strong&gt; faster than my original.&lt;/p&gt;

&lt;p&gt;I felt like a champion.&lt;/p&gt;

&lt;p&gt;I was over the moon.&lt;/p&gt;

&lt;p&gt;I rested on my laurels.&lt;/p&gt;

&lt;h2 id=&quot;enter-maths&quot;&gt;Enter Maths&lt;/h2&gt;

&lt;p&gt;The week passed and the final solutions from everyone were posted, tested, and collated. The function that performed the fastest avoided loops altogether and used an algebraic formula to crunch the numbers:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;multSilgarth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;threes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fives&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fifteen&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;N&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;threes&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;threes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fives&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fives&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fifteen&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fifteen&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;multSilgarth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Wait for it…&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;arrayPushAndIncrement x 279 ops/sec ±0.80% (83 runs sampled)
forSum x 8,256 ops/sec ±0.24% (91 runs sampled)
maths x 79,998,859 ops/sec ±0.81% (88 runs sampled)
Fastest is maths
Fastest is maths
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So the winning function was roughly &lt;strong&gt;&lt;em&gt;9,690 times faster&lt;/em&gt;&lt;/strong&gt; than my best effort, and &lt;strong&gt;&lt;em&gt;275,858 times faster&lt;/em&gt;&lt;/strong&gt; than my initial effort.&lt;/p&gt;

&lt;p&gt;If you need me, I’ll be over at Khan Academy studying math.&lt;/p&gt;

&lt;p&gt;Thanks to everyone that participated and shared their solutions in the spirit of helping other campers learn new methods.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/six-functions&amp;amp;text=What I learned writing 6 functions that all do the same thing&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Setting up a simple testing suite</title>
   <link href="https://blog.jacksonbates.com/mocha-chai"/>
   <updated>2016-10-30T14:33:00+11:00</updated>
   <id>https://blog.jacksonbates.com/setting-up-simple-testing</id>
   <content type="html">&lt;p&gt;You may want to have your own simple test runner to ensure your functions return accurate results.&lt;/p&gt;

&lt;p&gt;I used Mocha and Chai. Here’s some sample code and a walk through for using it. Note: the challenge I wrote these tests for was &lt;em&gt;return the sum of all multiples of 3 or 5 that are below a number N, where N is an input parameter to the function&lt;/em&gt;.&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;should&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;chai&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;should&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;basic&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;./multJacksonBates&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;basic&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;should return 23 when passed 10&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;basic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;should&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;should return 78 when passed 20&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;basic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;should&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;78&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;should return 2318 when passed 100&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;basic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;should&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2318&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;should return 23331668 when passed 10000&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;basic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;should&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;23331668&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;should return 486804150 when passed 45678&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;basic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;45678&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;should&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;486804150&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;walk-through&quot;&gt;Walk through&lt;/h2&gt;

&lt;p&gt;Pre-req: Install Node &amp;amp; NPM, you can open and type in your OS’s terminal / command line&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Create a directory for your algorithms and testing, eg: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mkdir algos&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Navigate to said directory: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cd algos&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;npm init&lt;/code&gt; and accept all defaults&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;npm install -g mocha&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;npm install mocha chai --save&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Write a function you want to test, and export it:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// multJacksonBates.js&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;multJacksonBates&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;multJacksonBates&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Notice the code snippet for the test script &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;require&lt;/code&gt;s the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;multJacksonBates&lt;/code&gt; function created here and names it &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;basic&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Test the script with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mocha test.js&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;It should say the first test passed because it is hardcoded to return the right answer for basic(10).&lt;/li&gt;
  &lt;li&gt;Write different code in the function so that it passes all test cases. And change the name of the function.&lt;/li&gt;
  &lt;li&gt;You can add more functions and more tests by replicating the code snips above.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;additional-resources&quot;&gt;Additional resources&lt;/h2&gt;

&lt;p&gt;If you decide to write several functions and want to test them for efficiency, you can modify the benchmark script from here: &lt;a href=&quot;http://forum.freecodecamp.com/t/algorithm-return-largest-numbers-in-arrays/16042/7?u=jacksonbates&quot;&gt;Benchmark&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can find more information about Mocha and Chai at the following links:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://mochajs.org/&quot;&gt;Mocha&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://chaijs.com/&quot;&gt;Chai&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/mocha-chai&amp;amp;text=Setting up a simple testing suite&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Getting Started With Passwordless Authentication</title>
   <link href="https://blog.jacksonbates.com/passwordless"/>
   <updated>2016-09-20T13:33:00+10:00</updated>
   <id>https://blog.jacksonbates.com/getting-started-with-passwordless</id>
   <content type="html">&lt;p&gt;You may have heard that there are &lt;a href=&quot;https://www.freecodecamp.org/news/360-million-reasons-to-destroy-all-passwords-9a100b2b5001/&quot;&gt;360 Million Reasons to Destroy All Passwords&lt;/a&gt; and that &lt;a href=&quot;https://medium.com/@ninjudd/passwords-are-obsolete-9ed56d483eb&quot;&gt;Passwords are Obsolete&lt;/a&gt;. But that doesn’t really help you actually make a passwordless authentication system, does it?&lt;/p&gt;

&lt;p&gt;Doing authentication well can be hard and fraught with potential security traps. The good news is that there are some lovely little JavaScript libraries that can do some of that heavy lifting for us. And they provide lots of code snippets to help us get started.&lt;/p&gt;

&lt;p&gt;So, here’s the skinny on how I implemented a passwordless authentication system in my recent Free Code Camp Voting App project.&lt;/p&gt;

&lt;p&gt;Before we get started, note that you’ll need a working knowledge of Node.js and npm.&lt;/p&gt;

&lt;h2 id=&quot;what-youll-need&quot;&gt;What you’ll need:&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;A passwordless authentication library: Passwordless&lt;/li&gt;
  &lt;li&gt;An email library: EmailJS&lt;/li&gt;
  &lt;li&gt;A new, single purpose email address: Microsoft Outlook (don’t worry — I’ll explain later)&lt;/li&gt;
  &lt;li&gt;A ‘Can-Do’ attitude and nimble copy-pasta fingers&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;lets-get-started&quot;&gt;Let’s get started!&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Register your single purpose email address&lt;/li&gt;
  &lt;li&gt;Pick the most professional and meaningful name for the account you can think of.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For example, since my app was called “Pollz,” I registered the email address pollz.tokendelivery@outlook.com. This way I communicate to the recipient that it’s a single purpose email address related to the app they just tried to sign into.&lt;/p&gt;

&lt;p&gt;Note that it’s better to send from a ‘proper’ domain if you own one, but this tutorial assumes you want something quick and dirty up and running to test the concept.&lt;/p&gt;

&lt;p&gt;You may need to take a few extra steps like verifying your account before it will let you send emails automatically via your app. So if things don’t work later on, check the inbox for any messages from Outlook and follow their advice.&lt;/p&gt;

&lt;h2 id=&quot;install-and-require-the-node-modules&quot;&gt;Install and Require the Node Modules&lt;/h2&gt;

&lt;p&gt;From the terminal install the following npm packages:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// Add 'sudo' at the beginning if you need it!&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;save&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;passwordless&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;save&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;passwordless&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mongostore&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;save&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;emailjs&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That installs the base requirements. You’ll also be using other crucial Node libraries, which you may already have installed for your project. If not, install these, too:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nx&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;save&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sessions&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;save&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parser&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;save&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cookie&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parser&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now, assuming you have a separate server.js and routes.js file, include the following in the top of the appropriate files. If you don’t have separate files, you can mush them all together and smother them in delicious spaghetti sauce:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// Note: Don't forget all the other modules you usually include!&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// (Express, Mongo etc...)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// server.js&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cookieParser&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;cookie-parser&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;expressSession&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;express-session&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;passwordless&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;passwordless&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MongoStore&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;passwordless-mongostore&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;email&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;emailjs&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// -------------------------------------------------- //&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// routes.js&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bodyParser&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;body-parser&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;urlencodedParser&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bodyParser&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;urlencoded&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;extended&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;passwordless&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;passwordless&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;set-up-delivery&quot;&gt;Set up delivery&lt;/h2&gt;

&lt;p&gt;Next, in the server.js file, we will include the code snippet that handles sending the authentication tokens to our users:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// server.js&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;yourEmail&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;pollz.tokendelivery@outlook.com&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;yourPwd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;OUTLOOK_PASSWORD&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;yourSmtp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;smtp-mail.outlook.com&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;smtpServer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;yourEmail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;yourPwd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;60000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;yourSmtp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;tls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;ciphers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;SSLv3&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// MongoDB setup (given default can be used)&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pathToMongoDb&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// Path to be send via email&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;host&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;https://pollz.herokuapp.com/&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The above code is making some assumptions you need to know about.&lt;/p&gt;

&lt;p&gt;Firstly, change the value of the ‘yourEmail’ variable to the new address you set up.&lt;/p&gt;

&lt;p&gt;Secondly, the ‘yourPwd’ variable you see there doesn’t mean my password is the super-obscure ‘process.env.OUTLOOK_PASSWORD’, nor does it mean you should go ahead and just put your password in there.&lt;/p&gt;

&lt;p&gt;‘process.env.***’ is used to access environment variables in Node. Basically, you can hard code those variables in your local system in a ‘dotenv’ file, or in Heroku via the settings for your app, and then refer to them as above. This means you’re not committing sensitive information to public GitHub repositories for all to see. It’s a little outside the scope of this tutorial, but the fine manual can tell you more: process.env.&lt;/p&gt;

&lt;p&gt;The ‘pathToMongoDB’ URL you see there is the same MongoDB path I use to connect to Mongo elsewhere in my app. If you’ve connected to Mongo, you can use the same url again.&lt;/p&gt;

&lt;p&gt;Be sure to change the ‘host’ URL to your own app’s URL.&lt;/p&gt;

&lt;h2 id=&quot;configure-passwordless&quot;&gt;Configure Passwordless&lt;/h2&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// server.js&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// Setup of Passwordless&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;passwordless&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MongoStore&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pathToMongoDb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;passwordless&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addDelivery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;tokenToSend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;uidToSend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;recipient&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;callback&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// Send out token&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;smtpServer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Hello!&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;You can now access your account here:&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;host&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
        &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;?token=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;tokenToSend&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
        &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;amp;uid=&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;encodeURIComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;uidToSend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;yourEmail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;recipient&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;subject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Token for &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;attachment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;lt;html&amp;gt;INSERT HTML STRING LINKING TO TOKEN&amp;lt;/html&amp;gt;&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;alternative&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Scary code-block, right? But not complete gibberish, I hope.&lt;/p&gt;

&lt;p&gt;There’s two things happening here:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Initializing Passwordless, and setting a store for the tokens.&lt;/li&gt;
  &lt;li&gt;Adding a delivery mechanism and building what the email will contain.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Read it closely and it should make sense. Beware that you include the appropriate number of closing parentheses and curly braces. I burned 45 minutes on that very issue last night on my latest app. Not kidding.&lt;/p&gt;

&lt;h2 id=&quot;get-your-middleware-in-place&quot;&gt;Get your middleware in place&lt;/h2&gt;

&lt;p&gt;Middleware is like underwear: forgetting it can lead to discomfort, but putting it on in the wrong order can lead to embarrassment.&lt;/p&gt;

&lt;p&gt;You may already have included this more generic Express middleware, but if not, you need to:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// server.js&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// Standard express setup&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cookieParser&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;expressSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;secret&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;quincylarsonisaprinceamongmen&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;saveUninitialized&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;resave&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;cookie&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;maxAge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;24&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;365&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then the particular middleware you need for passwordless can be included like this:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// server.js&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// Passwordless middleware&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;passwordless&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sessionSupport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;passwordless&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;acceptToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;successRedirect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}));&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I put all this immediately after the Passwordless initialization snippets, and include the ‘standard’ middleware before the ‘passwordless’ middleware. ‘sessionSupport’ depends on ‘expressSession’, so the order matters. Anything else leads to chafing.&lt;/p&gt;

&lt;h2 id=&quot;set-up-some-test-routes&quot;&gt;Set up some test routes&lt;/h2&gt;

&lt;p&gt;There are only a few essential routes. We need to let users log in and log out, and there needs to be a way to differentiate restricted pages from public pages for non-authenticated users.&lt;/p&gt;

&lt;p&gt;Note: This portion assumes you have set up the Express Router for your app.&lt;/p&gt;

&lt;p&gt;Login:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// routes.js&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// GET /login&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;router&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/login&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// POST /sendtoken&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;router&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/sendtoken&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;urlencodedParser&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;passwordless&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;requestToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// Simply accept every user*&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;delivery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;pages/sent&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the POST request above, we’re using the simplest and fastest mechanism for logging someone in. You are more likely to want to use the email address that is passed from the login form (we’ll see that in a minute) to look for the user in your database, or create a new one. You can see the more detailed method for that in the Passwordless documentation.&lt;/p&gt;

&lt;p&gt;The POST request includes the ‘urlencodedParser’ variable we set earlier. We do this so that we can read the form data, but we only apply it to this specific route. You can read more about this security consideration here: Dangerous Use Of Body Parser. A special thanks to Jeremy for this tip!&lt;/p&gt;

&lt;p&gt;Notice also in that POST request, the ‘sent’ page renders with a ‘user’ email address being passed in. This is accessible in the views templates and can be used and passed around as necessary. We’ll be using an EJS nav bar to demonstrate that soon.&lt;/p&gt;

&lt;p&gt;Logout:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// routes.js&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// GET logout&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;router&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/logout&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;passwordless&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;logout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;redirect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You hopefully noticed that this simple GET request takes an extra argument nestled snugly between the URL endpoint and the callback function that processes the request. This ‘passwordless.logout()’ method does all the behind the scenes work necessary to promptly forget the user.&lt;/p&gt;

&lt;p&gt;Restricted pages:&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// routes.js&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// GET restricted site&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;router&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/restricted&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;passwordless&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;restricted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;failureRedirect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/login&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}),&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;pages/restricted&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The format for restricted pages is pretty easy to parse, too. Similar to the logout pattern, we have the route, ‘/restricted’, followed by the ‘passwordless.restricted()’ method, followed by the callback function that processes the HTTP request. The difference here is that ‘passwordless.restricted()’ takes an object as an argument that specifies the endpoint we redirect to if the user is not authenticated.&lt;/p&gt;

&lt;h2 id=&quot;views&quot;&gt;Views&lt;/h2&gt;

&lt;p&gt;One of the most important views in this tutorial is the humble login page. Set it up how you like, but include this form to request the email address of your user:&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- views/pages/login.ejs --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;form&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;action=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/sendtoken&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;method=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;POST&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;input-field&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;for=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Email&lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;user&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;email&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;aria-required=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;true&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;br&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;submit&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Login / Register&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We’re running out of time. Style it on your own dime.&lt;/p&gt;

&lt;p&gt;It is important that you have included the ‘body-parser’ middleware mentioned earlier in order for you to be able to handle the data POSTed from this form.&lt;/p&gt;

&lt;p&gt;A final view worth looking at would be one that incorporates the authenticated user value we saw up in the routes section.&lt;/p&gt;

&lt;p&gt;Here’s an example of a really simple nav bar that changes according to whether the user is authenticated or not:&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- views/partials/navbar.ejs --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;nav&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;ul&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;li&amp;gt;&lt;/span&gt;Hi, &lt;span class=&quot;nt&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;%=&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;!&lt;span class=&quot;nt&quot;&gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;li&amp;gt;&amp;lt;a&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/logout&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;(logout)&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;li&amp;gt;&amp;lt;a&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/login&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Login&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/ul&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/nav&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you’re unfamiliar with EJS syntax, it’s the reason for the weird ‘&amp;lt;% %&amp;gt;’ tags in the markup. I have used 4 space indentation for the HTML, but allowed the EJS tags to sit in their own 2 space indentation so you can see them more easily. Aren’t I good to you?&lt;/p&gt;

&lt;p&gt;The markup above can be parsed in English as ‘If there is a user, print a list item that says “Hi, &lt;username&gt;!” and another list item that lets them log out; otherwise only show a list item with a login link’.&lt;/username&gt;&lt;/p&gt;

&lt;h2 id=&quot;and-thats-it-but-theres-more&quot;&gt;And that’s it. But there’s more…&lt;/h2&gt;

&lt;p&gt;That’s all you need to know to get up and running with Passwordless authentication.&lt;/p&gt;

&lt;p&gt;There are some caveats to be aware of:&lt;/p&gt;

&lt;p&gt;Outlook is a little slow. I haven’t narrowed the cause down precisely, but I believe it is due to the TLS ‘SSLv3’ cipher Outlook requires. I’m no expert, but that’s my best guess. That’s also why I recommend setting an absurdly long ‘timeout’ in the email config section (I picked 60 seconds).&lt;/p&gt;

&lt;p&gt;Why not use Gmail, then? A good question, and it was the first thing I tried. My emailjs script kept failing once I pushed the app to Heroku, but the Heroku logs weren’t providing much detail. It simply said I was making a ‘bad request.’ A little poking around on the internet suggested that maybe Google might be waiting for me to register my app with them and pay for the privilege. I did not do that. I just jumped ship to Outlook instead.&lt;/p&gt;

&lt;p&gt;Is there a better service than Outlook, then? If you have you own domain and the ability to configure the DNS records for it, you should try SparkPost and the SparkPost node client library. It’s a little more grunt work, but it’s nice and fast, and they send you a laptop sticker if you can successfully send an email through them. I’m using it in my latest app. It’s aces.&lt;/p&gt;

&lt;p&gt;So there you have it, there is no excuse for you to ever ask your users for their passwords ever again!&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;If you have any questions or comments, ping me on Twitter: &lt;a href=&quot;https://twitter.com/jacksonbates&quot;&gt;
    @JacksonBates&lt;/a&gt;. If
you liked this post, you can
&lt;a href=&quot;https://twitter.com/intent/tweet?url=https://blog.jacksonbates.com/passwordless&amp;amp;text=Getting Started With Passwordless Authentication&amp;amp;via=jacksonbates&quot; target=&quot;_blank&quot;&gt;
    share it&lt;/a&gt;!&lt;/p&gt;
</content>
 </entry>
 

</feed>